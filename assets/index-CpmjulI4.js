import{r as H,a as Es,R as Rs,g as Rn,c as Os,b as _s}from"./vendor-Cx6VpA1G.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))v(c);new MutationObserver(c=>{for(const _ of c)if(_.type==="childList")for(const r of _.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&v(r)}).observe(document,{childList:!0,subtree:!0});function m(c){const _={};return c.integrity&&(_.integrity=c.integrity),c.referrerPolicy&&(_.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?_.credentials="include":c.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function v(c){if(c.ep)return;c.ep=!0;const _=m(c);fetch(c.href,_)}})();var On={exports:{}},Rt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=H,As=Symbol.for("react.element"),Is=Symbol.for("react.fragment"),Ls=Object.prototype.hasOwnProperty,Ns=js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fs={key:!0,ref:!0,__self:!0,__source:!0};function _n(n,i,m){var v,c={},_=null,r=null;m!==void 0&&(_=""+m),i.key!==void 0&&(_=""+i.key),i.ref!==void 0&&(r=i.ref);for(v in i)Ls.call(i,v)&&!Fs.hasOwnProperty(v)&&(c[v]=i[v]);if(n&&n.defaultProps)for(v in i=n.defaultProps,i)c[v]===void 0&&(c[v]=i[v]);return{$$typeof:As,type:n,key:_,ref:r,props:c,_owner:Ns.current}}Rt.Fragment=Is;Rt.jsx=_n;Rt.jsxs=_n;On.exports=Rt;var O=On.exports,Xt={},yn=Es;Xt.createRoot=yn.createRoot,Xt.hydrateRoot=yn.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(n[v]=m[v])}return n},it.apply(this,arguments)}var Be;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Be||(Be={}));const bn="popstate";function Ms(n){n===void 0&&(n={});function i(v,c){let{pathname:_,search:r,hash:d}=v.location;return Kt("",{pathname:_,search:r,hash:d},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function m(v,c){return typeof c=="string"?c:Ct(c)}return $s(i,m,null,n)}function Oe(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function jn(n,i){if(!n){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Ds(){return Math.random().toString(36).substr(2,8)}function xn(n,i){return{usr:n.state,key:n.key,idx:i}}function Kt(n,i,m,v){return m===void 0&&(m=null),it({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof i=="string"?tt(i):i,{state:m,key:i&&i.key||v||Ds()})}function Ct(n){let{pathname:i="/",search:m="",hash:v=""}=n;return m&&m!=="?"&&(i+=m.charAt(0)==="?"?m:"?"+m),v&&v!=="#"&&(i+=v.charAt(0)==="#"?v:"#"+v),i}function tt(n){let i={};if(n){let m=n.indexOf("#");m>=0&&(i.hash=n.substr(m),n=n.substr(0,m));let v=n.indexOf("?");v>=0&&(i.search=n.substr(v),n=n.substr(0,v)),n&&(i.pathname=n)}return i}function $s(n,i,m,v){v===void 0&&(v={});let{window:c=document.defaultView,v5Compat:_=!1}=v,r=c.history,d=Be.Pop,s=null,x=u();x==null&&(x=0,r.replaceState(it({},r.state,{idx:x}),""));function u(){return(r.state||{idx:null}).idx}function g(){d=Be.Pop;let f=u(),C=f==null?null:f-x;x=f,s&&s({action:d,location:l.location,delta:C})}function k(f,C){d=Be.Push;let w=Kt(l.location,f,C);x=u()+1;let R=xn(w,x),j=l.createHref(w);try{r.pushState(R,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;c.location.assign(j)}_&&s&&s({action:d,location:l.location,delta:1})}function b(f,C){d=Be.Replace;let w=Kt(l.location,f,C);x=u();let R=xn(w,x),j=l.createHref(w);r.replaceState(R,"",j),_&&s&&s({action:d,location:l.location,delta:0})}function P(f){let C=c.location.origin!=="null"?c.location.origin:c.location.href,w=typeof f=="string"?f:Ct(f);return w=w.replace(/ $/,"%20"),Oe(C,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,C)}let l={get action(){return d},get location(){return n(c,r)},listen(f){if(s)throw new Error("A history only accepts one active listener");return c.addEventListener(bn,g),s=f,()=>{c.removeEventListener(bn,g),s=null}},createHref(f){return i(c,f)},createURL:P,encodeLocation(f){let C=P(f);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:k,replace:b,go(f){return r.go(f)}};return l}var wn;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(wn||(wn={}));function Gs(n,i,m){return m===void 0&&(m="/"),Ws(n,i,m,!1)}function Ws(n,i,m,v){let c=typeof i=="string"?tt(i):i,_=Zt(c.pathname||"/",m);if(_==null)return null;let r=An(n);Us(r);let d=null;for(let s=0;d==null&&s<r.length;++s){let x=Zs(_);d=Js(r[s],x,v)}return d}function An(n,i,m,v){i===void 0&&(i=[]),m===void 0&&(m=[]),v===void 0&&(v="");let c=(_,r,d)=>{let s={relativePath:d===void 0?_.path||"":d,caseSensitive:_.caseSensitive===!0,childrenIndex:r,route:_};s.relativePath.startsWith("/")&&(Oe(s.relativePath.startsWith(v),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+v+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(v.length));let x=He([v,s.relativePath]),u=m.concat(s);_.children&&_.children.length>0&&(Oe(_.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),An(_.children,i,u,x)),!(_.path==null&&!_.index)&&i.push({path:x,score:Ks(x,_.index),routesMeta:u})};return n.forEach((_,r)=>{var d;if(_.path===""||!((d=_.path)!=null&&d.includes("?")))c(_,r);else for(let s of In(_.path))c(_,r,s)}),i}function In(n){let i=n.split("/");if(i.length===0)return[];let[m,...v]=i,c=m.endsWith("?"),_=m.replace(/\?$/,"");if(v.length===0)return c?[_,""]:[_];let r=In(v.join("/")),d=[];return d.push(...r.map(s=>s===""?_:[_,s].join("/"))),c&&d.push(...r),d.map(s=>n.startsWith("/")&&s===""?"/":s)}function Us(n){n.sort((i,m)=>i.score!==m.score?m.score-i.score:Qs(i.routesMeta.map(v=>v.childrenIndex),m.routesMeta.map(v=>v.childrenIndex)))}const qs=/^:[\w-]+$/,Vs=3,zs=2,Bs=1,Hs=10,Xs=-2,kn=n=>n==="*";function Ks(n,i){let m=n.split("/"),v=m.length;return m.some(kn)&&(v+=Xs),i&&(v+=zs),m.filter(c=>!kn(c)).reduce((c,_)=>c+(qs.test(_)?Vs:_===""?Bs:Hs),v)}function Qs(n,i){return n.length===i.length&&n.slice(0,-1).every((v,c)=>v===i[c])?n[n.length-1]-i[i.length-1]:0}function Js(n,i,m){let{routesMeta:v}=n,c={},_="/",r=[];for(let d=0;d<v.length;++d){let s=v[d],x=d===v.length-1,u=_==="/"?i:i.slice(_.length)||"/",g=Pn({path:s.relativePath,caseSensitive:s.caseSensitive,end:x},u),k=s.route;if(!g&&x&&m&&!v[v.length-1].route.index&&(g=Pn({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},u)),!g)return null;Object.assign(c,g.params),r.push({params:c,pathname:He([_,g.pathname]),pathnameBase:sa(He([_,g.pathnameBase])),route:k}),g.pathnameBase!=="/"&&(_=He([_,g.pathnameBase]))}return r}function Pn(n,i){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[m,v]=Ys(n.path,n.caseSensitive,n.end),c=i.match(m);if(!c)return null;let _=c[0],r=_.replace(/(.)\/+$/,"$1"),d=c.slice(1);return{params:v.reduce((x,u,g)=>{let{paramName:k,isOptional:b}=u;if(k==="*"){let l=d[g]||"";r=_.slice(0,_.length-l.length).replace(/(.)\/+$/,"$1")}const P=d[g];return b&&!P?x[k]=void 0:x[k]=(P||"").replace(/%2F/g,"/"),x},{}),pathname:_,pathnameBase:r,pattern:n}}function Ys(n,i,m){i===void 0&&(i=!1),m===void 0&&(m=!0),jn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let v=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,d,s)=>(v.push({paramName:d,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(v.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),v]}function Zs(n){try{return n.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return jn(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),n}}function Zt(n,i){if(i==="/")return n;if(!n.toLowerCase().startsWith(i.toLowerCase()))return null;let m=i.endsWith("/")?i.length-1:i.length,v=n.charAt(m);return v&&v!=="/"?null:n.slice(m)||"/"}function ea(n,i){i===void 0&&(i="/");let{pathname:m,search:v="",hash:c=""}=typeof n=="string"?tt(n):n;return{pathname:m?m.startsWith("/")?m:ta(m,i):i,search:aa(v),hash:ra(c)}}function ta(n,i){let m=i.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?m.length>1&&m.pop():c!=="."&&m.push(c)}),m.length>1?m.join("/"):"/"}function Ht(n,i,m,v){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(v)+"].  Please separate it out to the ")+("`to."+m+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function na(n){return n.filter((i,m)=>m===0||i.route.path&&i.route.path.length>0)}function Ln(n,i){let m=na(n);return i?m.map((v,c)=>c===m.length-1?v.pathname:v.pathnameBase):m.map(v=>v.pathnameBase)}function Nn(n,i,m,v){v===void 0&&(v=!1);let c;typeof n=="string"?c=tt(n):(c=it({},n),Oe(!c.pathname||!c.pathname.includes("?"),Ht("?","pathname","search",c)),Oe(!c.pathname||!c.pathname.includes("#"),Ht("#","pathname","hash",c)),Oe(!c.search||!c.search.includes("#"),Ht("#","search","hash",c)));let _=n===""||c.pathname==="",r=_?"/":c.pathname,d;if(r==null)d=m;else{let g=i.length-1;if(!v&&r.startsWith("..")){let k=r.split("/");for(;k[0]==="..";)k.shift(),g-=1;c.pathname=k.join("/")}d=g>=0?i[g]:"/"}let s=ea(c,d),x=r&&r!=="/"&&r.endsWith("/"),u=(_||r===".")&&m.endsWith("/");return!s.pathname.endsWith("/")&&(x||u)&&(s.pathname+="/"),s}const He=n=>n.join("/").replace(/\/\/+/g,"/"),sa=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aa=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ra=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ia(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Fn=["post","put","patch","delete"];new Set(Fn);const oa=["get",...Fn];new Set(oa);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ot(){return ot=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(n[v]=m[v])}return n},ot.apply(this,arguments)}const en=H.createContext(null),la=H.createContext(null),Je=H.createContext(null),Ot=H.createContext(null),Xe=H.createContext({outlet:null,matches:[],isDataRoute:!1}),Mn=H.createContext(null);function ca(n,i){let{relative:m}=i===void 0?{}:i;lt()||Oe(!1);let{basename:v,navigator:c}=H.useContext(Je),{hash:_,pathname:r,search:d}=$n(n,{relative:m}),s=r;return v!=="/"&&(s=r==="/"?v:He([v,r])),c.createHref({pathname:s,search:d,hash:_})}function lt(){return H.useContext(Ot)!=null}function ct(){return lt()||Oe(!1),H.useContext(Ot).location}function Dn(n){H.useContext(Je).static||H.useLayoutEffect(n)}function ua(){let{isDataRoute:n}=H.useContext(Xe);return n?Sa():ha()}function ha(){lt()||Oe(!1);let n=H.useContext(en),{basename:i,future:m,navigator:v}=H.useContext(Je),{matches:c}=H.useContext(Xe),{pathname:_}=ct(),r=JSON.stringify(Ln(c,m.v7_relativeSplatPath)),d=H.useRef(!1);return Dn(()=>{d.current=!0}),H.useCallback(function(x,u){if(u===void 0&&(u={}),!d.current)return;if(typeof x=="number"){v.go(x);return}let g=Nn(x,JSON.parse(r),_,u.relative==="path");n==null&&i!=="/"&&(g.pathname=g.pathname==="/"?i:He([i,g.pathname])),(u.replace?v.replace:v.push)(g,u.state,u)},[i,v,r,_,n])}function da(){let{matches:n}=H.useContext(Xe),i=n[n.length-1];return i?i.params:{}}function $n(n,i){let{relative:m}=i===void 0?{}:i,{future:v}=H.useContext(Je),{matches:c}=H.useContext(Xe),{pathname:_}=ct(),r=JSON.stringify(Ln(c,v.v7_relativeSplatPath));return H.useMemo(()=>Nn(n,JSON.parse(r),_,m==="path"),[n,r,_,m])}function fa(n,i){return pa(n,i)}function pa(n,i,m,v){lt()||Oe(!1);let{navigator:c}=H.useContext(Je),{matches:_}=H.useContext(Xe),r=_[_.length-1],d=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let x=ct(),u;if(i){var g;let f=typeof i=="string"?tt(i):i;s==="/"||(g=f.pathname)!=null&&g.startsWith(s)||Oe(!1),u=f}else u=x;let k=u.pathname||"/",b=k;if(s!=="/"){let f=s.replace(/^\//,"").split("/");b="/"+k.replace(/^\//,"").split("/").slice(f.length).join("/")}let P=Gs(n,{pathname:b}),l=ba(P&&P.map(f=>Object.assign({},f,{params:Object.assign({},d,f.params),pathname:He([s,c.encodeLocation?c.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?s:He([s,c.encodeLocation?c.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),_,m,v);return i&&l?H.createElement(Ot.Provider,{value:{location:ot({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Be.Pop}},l):l}function ma(){let n=Pa(),i=ia(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),m=n instanceof Error?n.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},i),m?H.createElement("pre",{style:c},m):null,null)}const va=H.createElement(ma,null);class ga extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,m){return m.location!==i.location||m.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:m.error,location:m.location,revalidation:i.revalidation||m.revalidation}}componentDidCatch(i,m){console.error("React Router caught the following error during render",i,m)}render(){return this.state.error!==void 0?H.createElement(Xe.Provider,{value:this.props.routeContext},H.createElement(Mn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ya(n){let{routeContext:i,match:m,children:v}=n,c=H.useContext(en);return c&&c.static&&c.staticContext&&(m.route.errorElement||m.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=m.route.id),H.createElement(Xe.Provider,{value:i},v)}function ba(n,i,m,v){var c;if(i===void 0&&(i=[]),m===void 0&&(m=null),v===void 0&&(v=null),n==null){var _;if(!m)return null;if(m.errors)n=m.matches;else if((_=v)!=null&&_.v7_partialHydration&&i.length===0&&!m.initialized&&m.matches.length>0)n=m.matches;else return null}let r=n,d=(c=m)==null?void 0:c.errors;if(d!=null){let u=r.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);u>=0||Oe(!1),r=r.slice(0,Math.min(r.length,u+1))}let s=!1,x=-1;if(m&&v&&v.v7_partialHydration)for(let u=0;u<r.length;u++){let g=r[u];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(x=u),g.route.id){let{loaderData:k,errors:b}=m,P=g.route.loader&&k[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||P){s=!0,x>=0?r=r.slice(0,x+1):r=[r[0]];break}}}return r.reduceRight((u,g,k)=>{let b,P=!1,l=null,f=null;m&&(b=d&&g.route.id?d[g.route.id]:void 0,l=g.route.errorElement||va,s&&(x<0&&k===0?(P=!0,f=null):x===k&&(P=!0,f=g.route.hydrateFallbackElement||null)));let C=i.concat(r.slice(0,k+1)),w=()=>{let R;return b?R=l:P?R=f:g.route.Component?R=H.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=u,H.createElement(ya,{match:g,routeContext:{outlet:u,matches:C,isDataRoute:m!=null},children:R})};return m&&(g.route.ErrorBoundary||g.route.errorElement||k===0)?H.createElement(ga,{location:m.location,revalidation:m.revalidation,component:l,error:b,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}var Gn=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Gn||{}),Et=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Et||{});function xa(n){let i=H.useContext(en);return i||Oe(!1),i}function wa(n){let i=H.useContext(la);return i||Oe(!1),i}function ka(n){let i=H.useContext(Xe);return i||Oe(!1),i}function Wn(n){let i=ka(),m=i.matches[i.matches.length-1];return m.route.id||Oe(!1),m.route.id}function Pa(){var n;let i=H.useContext(Mn),m=wa(Et.UseRouteError),v=Wn(Et.UseRouteError);return i!==void 0?i:(n=m.errors)==null?void 0:n[v]}function Sa(){let{router:n}=xa(Gn.UseNavigateStable),i=Wn(Et.UseNavigateStable),m=H.useRef(!1);return Dn(()=>{m.current=!0}),H.useCallback(function(c,_){_===void 0&&(_={}),m.current&&(typeof c=="number"?n.navigate(c):n.navigate(c,ot({fromRouteId:i},_)))},[n,i])}function Qt(n){Oe(!1)}function Ta(n){let{basename:i="/",children:m=null,location:v,navigationType:c=Be.Pop,navigator:_,static:r=!1,future:d}=n;lt()&&Oe(!1);let s=i.replace(/^\/*/,"/"),x=H.useMemo(()=>({basename:s,navigator:_,static:r,future:ot({v7_relativeSplatPath:!1},d)}),[s,d,_,r]);typeof v=="string"&&(v=tt(v));let{pathname:u="/",search:g="",hash:k="",state:b=null,key:P="default"}=v,l=H.useMemo(()=>{let f=Zt(u,s);return f==null?null:{location:{pathname:f,search:g,hash:k,state:b,key:P},navigationType:c}},[s,u,g,k,b,P,c]);return l==null?null:H.createElement(Je.Provider,{value:x},H.createElement(Ot.Provider,{children:m,value:l}))}function Ca(n){let{children:i,location:m}=n;return fa(Jt(i),m)}new Promise(()=>{});function Jt(n,i){i===void 0&&(i=[]);let m=[];return H.Children.forEach(n,(v,c)=>{if(!H.isValidElement(v))return;let _=[...i,c];if(v.type===H.Fragment){m.push.apply(m,Jt(v.props.children,_));return}v.type!==Qt&&Oe(!1),!v.props.index||!v.props.children||Oe(!1);let r={id:v.props.id||_.join("-"),caseSensitive:v.props.caseSensitive,element:v.props.element,Component:v.props.Component,index:v.props.index,path:v.props.path,loader:v.props.loader,action:v.props.action,errorElement:v.props.errorElement,ErrorBoundary:v.props.ErrorBoundary,hasErrorBoundary:v.props.ErrorBoundary!=null||v.props.errorElement!=null,shouldRevalidate:v.props.shouldRevalidate,handle:v.props.handle,lazy:v.props.lazy};v.props.children&&(r.children=Jt(v.props.children,_)),m.push(r)}),m}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yt(){return Yt=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(n[v]=m[v])}return n},Yt.apply(this,arguments)}function Ea(n,i){if(n==null)return{};var m={},v=Object.keys(n),c,_;for(_=0;_<v.length;_++)c=v[_],!(i.indexOf(c)>=0)&&(m[c]=n[c]);return m}function Ra(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Oa(n,i){return n.button===0&&(!i||i==="_self")&&!Ra(n)}const _a=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ja="6";try{window.__reactRouterVersion=ja}catch{}const Aa="startTransition",Sn=Rs[Aa];function Ia(n){let{basename:i,children:m,future:v,window:c}=n,_=H.useRef();_.current==null&&(_.current=Ms({window:c,v5Compat:!0}));let r=_.current,[d,s]=H.useState({action:r.action,location:r.location}),{v7_startTransition:x}=v||{},u=H.useCallback(g=>{x&&Sn?Sn(()=>s(g)):s(g)},[s,x]);return H.useLayoutEffect(()=>r.listen(u),[r,u]),H.createElement(Ta,{basename:i,children:m,location:d.location,navigationType:d.action,navigator:r,future:v})}const La=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Na=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=H.forwardRef(function(i,m){let{onClick:v,relative:c,reloadDocument:_,replace:r,state:d,target:s,to:x,preventScrollReset:u,viewTransition:g}=i,k=Ea(i,_a),{basename:b}=H.useContext(Je),P,l=!1;if(typeof x=="string"&&Na.test(x)&&(P=x,La))try{let R=new URL(window.location.href),j=x.startsWith("//")?new URL(R.protocol+x):new URL(x),D=Zt(j.pathname,b);j.origin===R.origin&&D!=null?x=D+j.search+j.hash:l=!0}catch{}let f=ca(x,{relative:c}),C=Fa(x,{replace:r,state:d,target:s,preventScrollReset:u,relative:c,viewTransition:g});function w(R){v&&v(R),R.defaultPrevented||C(R)}return H.createElement("a",Yt({},k,{href:P||f,onClick:l||_?v:w,ref:m,target:s}))});var Tn;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Tn||(Tn={}));var Cn;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Cn||(Cn={}));function Fa(n,i){let{target:m,replace:v,state:c,preventScrollReset:_,relative:r,viewTransition:d}=i===void 0?{}:i,s=ua(),x=ct(),u=$n(n,{relative:r});return H.useCallback(g=>{if(Oa(g,m)){g.preventDefault();let k=v!==void 0?v:Ct(x)===Ct(u);s(n,{replace:k,state:c,preventScrollReset:_,relative:r,viewTransition:d})}},[x,s,u,v,c,m,n,_,r,d])}const Tt=[{id:"2",label:" Kalö̀te de monte",path:"#",children:[{id:"20",label:"Claves compuestas en 5/4",path:"/claves-5"},{id:"21",label:"Quinta Clave Completa",path:"/quinta-completa"},{id:"22",label:"Quinta Clave Abierta",path:"/quinta-abierta"},{id:"23",label:"Quinto 5 de 4",path:"/quinto-5-4"},{id:"24",label:"Quinto 4 de 5",path:"/quinto-4-5"},{id:"25",label:"Quintí",path:"/quinti"},{id:"26",label:"Quinté",path:"/quinte"},{id:"27",label:"Quintú",path:"/quintu"}]},{id:"3",label:"Convite de Diriá",path:"#",children:[{id:"30",label:"Claves compuestas en 7/8",path:"/claves-7"},{id:"31",label:"Clave completa en 7",path:"/completa-7"},{id:"32",label:"Clave abierta en 7",path:"/abierta-7"},{id:"33",label:"Séptima",path:"/septima"},{id:"35",label:"Séptimo 4:3",path:"/septima-4-3"},{id:"36",label:"Séptimo 3:4",path:"/septima-3-4"}]}],Un="/audiolibro/assets/kalote-convite-BvauE9MA.pdf",Ma=({navigation:n})=>O.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:O.jsxs("div",{className:"container container-fluid",children:[O.jsx(Qe,{className:"navbar-brand",to:"/",children:"AudioLibro"}),O.jsx("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:O.jsx("ul",{className:"navbar-nav",children:n.map(i=>O.jsxs("li",{className:`nav-item ${i.children?"dropdown":""}`,children:[O.jsx(Qe,{className:`nav-link ${i.children?"dropdown-toggle":""}`,to:i.path,role:"button","data-bs-toggle":i.children?"dropdown":void 0,"aria-expanded":"false",children:i.label}),i.children&&O.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dd_ritmos-5",children:i.children.map(m=>O.jsx("li",{children:O.jsx(Qe,{to:m.path,className:"dropdown-item",children:m.label})},m.path))})]},i.id))})}),O.jsx("form",{className:"container-fluid justify-content-start",children:O.jsxs("a",{className:"btn btn-outline-success me-2",type:"button",href:Un,target:"_blank",children:["Descargar PDF ",O.jsx("i",{className:"bi bi-file-earmark-arrow-down"})]})})]})}),Da="/audiolibro/assets/audiolibro_logo-500-DeBlVJX7.png",$a=()=>{const n=Math.ceil(Tt.length/2),i=Tt.slice(0,n),m=Tt.slice(n);return O.jsx("div",{className:"footer-menu",children:O.jsxs("ul",{className:"list-unstyled mb-0 footer-menu-columns",children:[O.jsx("div",{className:"footer-menu-column",children:i.map(v=>O.jsxs("li",{className:`nav-item ${v.children?"dropdown":""}`,children:[O.jsx(Qe,{className:"header-menu",children:v.label}),v.children&&O.jsx("ul",{className:"list-unstyled submenu",children:v.children.map(c=>O.jsx("li",{children:O.jsx(Qe,{to:c.path,children:c.label})},c.path))})]},v.id))}),O.jsx("div",{className:"footer-menu-column",children:m.map(v=>O.jsxs("li",{className:`nav-item ${v.children?"dropdown":""}`,children:[O.jsx(Qe,{className:"header-menu",children:v.label}),v.children&&O.jsx("ul",{className:"list-unstyled submenu",children:v.children.map(c=>O.jsx("li",{children:O.jsx(Qe,{to:c.path,children:c.label})},c.path))})]},v.id))})]})})},Ga=()=>O.jsx("footer",{className:"bg-secondary",children:O.jsx("div",{className:"container px-4 py-5",children:O.jsxs("div",{className:"row justify-content-center align-items-center g-3",children:[O.jsxs("div",{className:"col-12 col-md-3 text-center",children:[O.jsx("img",{src:Da,className:"img-fluid rounded-top",alt:"",style:{width:"300px"}}),O.jsxs("a",{className:"btn btn-outline-light me-2",type:"button",href:Un,target:"_blank",children:["Descargar PDF ",O.jsx("i",{className:"bi bi-file-earmark-arrow-down"})]})]}),O.jsx("div",{className:"col-12 col-md-6",align:"center",children:O.jsx($a,{})}),O.jsxs("div",{className:"col-12 col-md-3",children:[O.jsx("h3",{className:"text-center mb-4",children:"Contacto: "}),O.jsxs("div",{className:"row justify-content-center align-items-top g-2",children:[O.jsx("div",{className:"col-6",align:"center",children:O.jsx("a",{className:"link-light me-2",type:"button",href:"#",target:"_blank",children:O.jsx("i",{className:"bi bi-whatsapp h2"})})}),O.jsx("div",{className:"col-6",align:"center",children:O.jsx("a",{className:"link-light me-2",type:"button",href:"#",target:"_blank",children:O.jsx("i",{className:"bi bi-envelope-at h2"})})})]})]})]})})}),Wa=[{slug:"claves-5",title:"Claves compuestas en 5/4",content:{sections:[{type:"header",content:"Claves compuestas en 5"},{type:"text",content:"Para la creación de los ritmos en 5 fue muy importante el desarrollo de distintas claves compuestas que le dieran sentido y cohesión a estos ritmos; para ello se crearon 7 claves compuestas y un patrón rítmico en Timbal que cumple función de clave."}]}},{slug:"quinta-completa",title:"Quinta",content:{sections:[{type:"header",content:"Quinta Clave Completa"},{type:"text",content:"Se creó este ritmo en torno a la Clave Completa, la cual es una clave compuesta que se construyó a partir de la combinación de la clave de Son cubano 3:2 y la clave de Guaguancó. Ejemplo con click a tempo de 118 bpm."},{type:"audio",content:"audio",idPlayer:"quinta-completa",slides:[{id:"quintaCompleta",images:[{image:"src/assets/img/5/01-quinta_completa-circular.png",title:"Lectura Circular",description:"Clave de Quinta Completa"}]}],playlists:[{id:"quinta-completa",data:[{src:"src/assets/audio/kalote-5/01-quinta_clave_completa/00-click-198bpm.wav",name:"Click"},{src:"src/assets/audio/kalote-5/01-quinta_clave_completa/01-clave.wav",name:"Clave"},{src:"src/assets/audio/kalote-5/01-quinta_clave_completa/02-cata.wav",name:"Cata"},{src:"src/assets/audio/kalote-5/01-quinta_clave_completa/03-chequere.wav",name:"Chequere"},{src:"src/assets/audio/kalote-5/01-quinta_clave_completa/04-quinto.wav",name:"Quinto"},{src:"src/assets/audio/kalote-5/01-quinta_clave_completa/05-conga.wav",name:"Conga"},{src:"src/assets/audio/kalote-5/01-quinta_clave_completa/06-conga-variacion.wav",name:"Variacion Conga"},{src:"src/assets/audio/kalote-5/01-quinta_clave_completa/07-tumbadora.wav",name:"Tumbadora"}]}]},{type:"header",content:"Quinta Clave Completa - rápida"},{type:"text",content:"Variante con click a tempo 225 bpm."},{type:"audio",content:"audio",idPlayer:"quinta-completa-rapida",slides:[{id:"quinta-completa-rapida-images",images:[{image:"./src/assets/img/5/01-quinta_completa-circular.png",alt:"Lectura Circular",title:"Lectura Circular",description:"Quinta Clave Completa - rápida"}]}],playlists:[{id:"quinta-completa-rapida",data:[{src:"./src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/00-click-225bpm.wav",name:"Click"},{src:"./src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/01-clave.wav",name:"Clave"},{src:"src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/02-cata.wav",name:"Cata"},{src:"src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/03-chequere.wav",name:"Chequere"},{src:"src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/05-quinto.wav",name:"Quinto"},{src:"src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/06-conga.wav",name:"Conga"},{src:"src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/07-conga_variacion.wav",name:"Variación Conga"},{src:"src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/08-tumbadora.wav",name:"Tumbadora"},{src:"src/assets/audio/kalote-5/02-quinta_clave_completa-rapida/Conga 2 Quinta Clave abierta rapida.wav",name:"Conga 2"}]}]}]}},{slug:"quinta-abierta",title:"Quinta",content:{sections:[{type:"header",content:"Quinta Clave Abierta"},{type:"text",content:"Se creó este ritmo en torno a la clave abierta, la cual es una clave compuesta, que se construyó a partir de la clave de Guaguancó, a la que se le agregó un silencio de negra entre el tercer y cuarto tiempo en cada compás, dando como resultado doscompases de cinco tiempos."},{type:"audio",content:"audio",slides:[{id:"quintaAbierta",images:[{image:"src/assets/img/5/02-quinta_abierta-circular.png",title:"Lectura Circular",description:"Clave de Quinta Abierta"}]}],playlists:[{id:"qca-1",data:[{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/00-click_200bpm.wav",name:"Click"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/01-clave.wav",name:"Clave"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/02-cata.wav",name:"Cata"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/03-chequere.wav",name:"Chequere"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/04-quinto.wav",name:"Quinto"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/05-conga.wav",name:"Conga"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/06-conga_variacion.wav",name:"Conga Variación"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/07-tumbadora.wav",name:"Tumbadora"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/08-campana.wav",name:"Campana"},{src:"src/assets/audio/kalote-5/03-quinta_clave_abierta/09-campana_variacion.wav",name:"Campana Variación"}]}]},{type:"header",content:"Quinta Clave Completa - rápida"},{type:"text",content:"Variante con click a 225 bpm."},{type:"audio",content:"audio",slides:[{id:"quintaAbiertaRapida",images:[{image:"src/assets/img/5/02-quinta_abierta-circular.png",title:"Lectura Circular",description:"Clave de Quinta Abierta rápida"}]}],playlists:[{id:"qca-2",data:[{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/00-click_213bpm.wav",name:"Click"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/01-clave.wav",name:"Clave"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/02-cata.wav",name:"Cata"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/03-chequere.wav",name:"Chequere"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/04-quinto.wav",name:"Quinto"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/05-conga.wav",name:"Conga"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/06-conga_variacion.wav",name:"Conga Variación"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/07-tumba.wav",name:"Tumbadora"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/08-campana.wav",name:"Campana"},{src:"src/assets/audio/kalote-5/04-quinta_clave_abierta-rapida/09-campana_variacion.wav",name:"Campana Variación"}]}]}]}},{slug:"quinto-5-4",title:"Quinto",content:{sections:[{type:"header",content:"Variación 5 de 4"},{type:"text",content:"Se subdividió el patrón del Requinto (Tambor Chico) en cinco grupos de cuatro corcheas cada uno , donde se acentúa la segunda corchea (golpe abierto con la mano que no tiene baqueta), respetando el patrón del Tambor Chico original que consta de cuatro grupos de cuatro corcheas cada uno."}]}},{slug:"claves-7",title:"Claves compuestas en 7/8",content:{sections:[{type:"header",content:"Claves compuestas en 7"},{type:"div",content:`<p>Para la creación de los ritmos en 7, al igual que en los ritmos en 5, fue muy importante el desarrollo de distintas claves compuestas que le dieran sentido y cohesión a estos ritmos; para ello se crearon 4 claves compuestas, cada una con una duración de dos compases en 7/8.</p>
            <p>La primera clave compuesta se desarrolló a partir de la “Clave Completa” en 5 y la segunda clave compuesta a partir de la “Clave Abierta” en 5, esta conversión se realizó utilizando la lógica de la Hemiola (este proceso de conversión está explicado más adelante en cada uno de los ritmos). Las otras dos claves compuestas se pueden entender como reducciones de estas dos primeras claves en 7 o como reducciones de las claves cubanas 3:2 y 2:3, en donde se eliminan o desplazan algunos de los golpes. Por ejemplo, la clave compuesta 4 - 3 en 7/8 se puede derivar de la clave cubana 3:2, donde se elimina el tercer golpe de la clave, restándole un tiempo de negra , dando como resultado la “Clave 4 - 3 en 7/8</p>`}]}},{slug:"completa-7",title:"Clave Completa en 7",content:{sections:[{type:"header",content:"Subtitulo"},{type:"text",content:"Para la creación de los ritmos en 5 fue muy importante el desarrollo de distintas claves compuestas que le dieran sentido y cohesión a estos ritmos; para ello se crearon 7 claves compuestas y un patrón rítmico en Timbal que cumple función de clave."}]}}];var qn={exports:{}},Ua="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qa=Ua,Va=qa;function Vn(){}function zn(){}zn.resetWarningCache=Vn;var za=function(){function n(v,c,_,r,d,s){if(s!==Va){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function i(){return n}var m={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:zn,resetWarningCache:Vn};return m.PropTypes=m,m};qn.exports=za();var Ba=qn.exports;const xe=Rn(Ba);var Bn={exports:{}};(function(n,i){(function(v,c){n.exports=c()})(Os,function(){return(()=>{var m={6824:r=>{/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */r.exports=function(s){var x=String.prototype.split,u=/()??/.exec("")[1]===s,g;return g=function(k,w,P){if(Object.prototype.toString.call(w)!=="[object RegExp]")return x.call(k,w,P);var l=[],f=(w.ignoreCase?"i":"")+(w.multiline?"m":"")+(w.extended?"x":"")+(w.sticky?"y":""),C=0,w=new RegExp(w.source,f+"g"),R,j,D,N;for(k+="",u||(R=new RegExp("^"+w.source+"$(?!\\s)",f)),P=P===s?4294967295:P>>>0;(j=w.exec(k))&&(D=j.index+j[0].length,!(D>C&&(l.push(k.slice(C,j.index)),!u&&j.length>1&&j[0].replace(R,function(){for(var W=1;W<arguments.length-2;W++)arguments[W]===s&&(j[W]=s)}),j.length>1&&j.index<k.length&&Array.prototype.push.apply(l,j.slice(1)),N=j[0].length,C=D,l.length>=P)));)w.lastIndex===j.index&&w.lastIndex++;return C===k.length?(N||!w.test(""))&&l.push(""):l.push(k.slice(C)),l.length>P?l.slice(0,P):l},g}()},1804:(r,d,s)=>{var x=s(5618),u=s(7205),g=s(7191),k=s(5516),b=s(9981),P=r.exports=function(l,f){var C,w,R,j,D;return arguments.length<2||typeof l!="string"?(j=f,f=l,l=null):j=arguments[2],x(l)?(C=b.call(l,"c"),w=b.call(l,"e"),R=b.call(l,"w")):(C=R=!0,w=!1),D={value:f,configurable:C,enumerable:w,writable:R},j?g(k(j),D):D};P.gs=function(l,f,C){var w,R,j,D;return typeof l!="string"?(j=C,C=f,f=l,l=null):j=arguments[3],x(f)?u(f)?x(C)?u(C)||(j=C,C=void 0):C=void 0:(j=f,f=C=void 0):f=void 0,x(l)?(w=b.call(l,"c"),R=b.call(l,"e")):(w=!0,R=!1),D={get:f,set:C,configurable:w,enumerable:R},j?g(k(j),D):D}},430:r=>{r.exports=function(){}},7191:(r,d,s)=>{r.exports=s(6560)()?Object.assign:s(7346)},6560:r=>{r.exports=function(){var d=Object.assign,s;return typeof d!="function"?!1:(s={foo:"raz"},d(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")}},7346:(r,d,s)=>{var x=s(5103),u=s(2745),g=Math.max;r.exports=function(k,b){var P,l,f=g(arguments.length,2),C;for(k=Object(u(k)),C=function(w){try{k[w]=b[w]}catch(R){P||(P=R)}},l=1;l<f;++l)b=arguments[l],x(b).forEach(C);if(P!==void 0)throw P;return k}},6914:(r,d,s)=>{var x=s(430)();r.exports=function(u){return u!==x&&u!==null}},5103:(r,d,s)=>{r.exports=s(7446)()?Object.keys:s(6137)},7446:r=>{r.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},6137:(r,d,s)=>{var x=s(6914),u=Object.keys;r.exports=function(g){return u(x(g)?Object(g):g)}},5516:(r,d,s)=>{var x=s(6914),u=Array.prototype.forEach,g=Object.create,k=function(b,P){var l;for(l in b)P[l]=b[l]};r.exports=function(b){var P=g(null);return u.call(arguments,function(l){x(l)&&k(Object(l),P)}),P}},1290:r=>{r.exports=function(d){if(typeof d!="function")throw new TypeError(d+" is not a function");return d}},2745:(r,d,s)=>{var x=s(6914);r.exports=function(u){if(!x(u))throw new TypeError("Cannot use null or undefined");return u}},9981:(r,d,s)=>{r.exports=s(3591)()?String.prototype.contains:s(6042)},3591:r=>{var d="razdwatrzy";r.exports=function(){return typeof d.contains!="function"?!1:d.contains("dwa")===!0&&d.contains("foo")===!1}},6042:r=>{var d=String.prototype.indexOf;r.exports=function(s){return d.call(this,s,arguments[1])>-1}},8832:(r,d,s)=>{var x=s(4167),u="7";x("ev-store",u);var g="__EV_STORE_KEY@"+u;r.exports=k;function k(b){var P=b[g];return P||(P=b[g]={}),P}},8370:(r,d,s)=>{var x=s(1804),u=s(1290),g=Function.prototype.apply,k=Function.prototype.call,b=Object.create,P=Object.defineProperty,l=Object.defineProperties,f=Object.prototype.hasOwnProperty,C={configurable:!0,enumerable:!1,writable:!0},w,R,j,D,N,W,M;w=function(G,$){var A;return u($),f.call(this,"__ee__")?A=this.__ee__:(A=C.value=b(null),P(this,"__ee__",C),C.value=null),A[G]?typeof A[G]=="object"?A[G].push($):A[G]=[A[G],$]:A[G]=$,this},R=function(G,$){var A,K;return u($),K=this,w.call(this,G,A=function(){j.call(K,G,A),g.call($,this,arguments)}),A.__eeOnceListener__=$,this},j=function(G,$){var A,K,J,I;if(u($),!f.call(this,"__ee__"))return this;if(A=this.__ee__,!A[G])return this;if(K=A[G],typeof K=="object")for(I=0;J=K[I];++I)(J===$||J.__eeOnceListener__===$)&&(K.length===2?A[G]=K[I?0:1]:K.splice(I,1));else(K===$||K.__eeOnceListener__===$)&&delete A[G];return this},D=function(G){var $,A,K,J,I;if(f.call(this,"__ee__")&&(J=this.__ee__[G],!!J))if(typeof J=="object"){for(A=arguments.length,I=new Array(A-1),$=1;$<A;++$)I[$-1]=arguments[$];for(J=J.slice(),$=0;K=J[$];++$)g.call(K,this,I)}else switch(arguments.length){case 1:k.call(J,this);break;case 2:k.call(J,this,arguments[1]);break;case 3:k.call(J,this,arguments[1],arguments[2]);break;default:for(A=arguments.length,I=new Array(A-1),$=1;$<A;++$)I[$-1]=arguments[$];g.call(J,this,I)}},N={on:w,once:R,off:j,emit:D},W={on:x(w),once:x(R),off:x(j),emit:x(D)},M=l({},W),r.exports=d=function(G){return G==null?b(M):l(Object(G),W)},d.methods=N},6226:(r,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.linear=s,d.exponential=x,d.sCurve=u,d.logarithmic=g;function s(k,b){var P=new Float32Array(k),l,f,C=k-1;for(l=0;l<k;l++)f=l/C,b>0?P[l]=f:P[l]=1-f;return P}function x(k,b){var P=new Float32Array(k),l,f,C=k-1,w;for(l=0;l<k;l++)f=l/C,w=b>0?l:k-1-l,P[w]=Math.exp(2*f-1)/Math.exp(1);return P}function u(k,b){var P=new Float32Array(k),l,f=b>0?Math.PI/2:-(Math.PI/2);for(l=0;l<k;++l)P[l]=Math.sin(Math.PI*l/k-f)/2+.5;return P}function g(k,b,P){var l=new Float32Array(k),f,C=0,w;for(w=0;w<k;w++)f=P>0?w:k-1-w,C=w/k,l[f]=Math.log(1+b*C)/Math.log(1+b);return l}},1114:(r,d,s)=>{d.h7=d.Y1=d.Hp=d.Jl=d.t$=d._h=void 0,d.L7=N,d.Mt=W;var x=s(6226),u=d._h="sCurve",g=d.t$="linear",k=d.Jl="exponential",b=d.Hp="logarithmic";d.Y1="FadeIn",d.h7="FadeOut";function P(M,G){var $=(0,x.sCurve)(1e4,1);this.setValueCurveAtTime($,M,G)}function l(M,G){var $=(0,x.sCurve)(1e4,-1);this.setValueCurveAtTime($,M,G)}function f(M,G){this.linearRampToValueAtTime(0,M),this.linearRampToValueAtTime(1,M+G)}function C(M,G){this.linearRampToValueAtTime(1,M),this.linearRampToValueAtTime(0,M+G)}function w(M,G){this.exponentialRampToValueAtTime(.01,M),this.exponentialRampToValueAtTime(1,M+G)}function R(M,G){this.exponentialRampToValueAtTime(1,M),this.exponentialRampToValueAtTime(.01,M+G)}function j(M,G){var $=(0,x.logarithmic)(1e4,10,1);this.setValueCurveAtTime($,M,G)}function D(M,G){var $=(0,x.logarithmic)(1e4,10,-1);this.setValueCurveAtTime($,M,G)}function N(M,G,$,A){switch(G){case u:P.call(M,$,A);break;case g:f.call(M,$,A);break;case k:w.call(M,$,A);break;case b:j.call(M,$,A);break;default:throw new Error("Unsupported Fade type")}}function W(M,G,$,A){switch(G){case u:l.call(M,$,A);break;case g:C.call(M,$,A);break;case k:R.call(M,$,A);break;case b:D.call(M,$,A);break;default:throw new Error("Unsupported Fade type")}}},9144:(r,d,s)=>{var x=typeof s.g<"u"?s.g:typeof window<"u"?window:{},u=s(5893),g;typeof document<"u"?g=document:(g=x["__GLOBAL_DOCUMENT_CACHE@4"],g||(g=x["__GLOBAL_DOCUMENT_CACHE@4"]=u)),r.exports=g},8070:(r,d,s)=>{var x=typeof window<"u"?window:typeof s.g<"u"?s.g:{};r.exports=u;function u(g,k){return g in x?x[g]:(x[g]=k,k)}},4167:(r,d,s)=>{var x=s(8070);r.exports=u;function u(g,k,b){var P="__INDIVIDUAL_ONE_VERSION_"+g,l=P+"_ENFORCE_SINGLETON",f=x(l,k);if(f!==k)throw new Error("Can only have one copy of "+g+`.
You already have version `+f+` installed.
This means you cannot install version `+k);return x(P,b)}},849:(r,d,s)=>{var x=!!(s.g===s.g.window&&s.g.URL&&s.g.Blob&&s.g.Worker);function u(g,k){var b=this,P;if(k=k||{},x)return P=g.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new s.g.Worker(s.g.URL.createObjectURL(new s.g.Blob([P],{type:"text/javascript"})));function l(f){setTimeout(function(){b.onmessage({data:f})},0)}this.self=k,this.self.postMessage=l,setTimeout(g.bind(k,k),0)}u.prototype.postMessage=function(k){var b=this;setTimeout(function(){b.self.onmessage({data:k})},0)},r.exports=u},6240:r=>{r.exports=function(s){return typeof s=="object"&&s!==null}},1730:r=>{var d=9007199254740991,s="[object Arguments]",x="[object Function]",u="[object GeneratorFunction]",g=/^(?:0|[1-9]\d*)$/;function k(L,U,B){switch(B.length){case 0:return L.call(U);case 1:return L.call(U,B[0]);case 2:return L.call(U,B[0],B[1]);case 3:return L.call(U,B[0],B[1],B[2])}return L.apply(U,B)}function b(L,U){for(var B=-1,fe=Array(L);++B<L;)fe[B]=U(B);return fe}function P(L,U){return function(B){return L(U(B))}}var l=Object.prototype,f=l.hasOwnProperty,C=l.toString,w=l.propertyIsEnumerable,R=P(Object.keys,Object),j=Math.max,D=!w.call({valueOf:1},"valueOf");function N(L,U){var B=ie(L)||z(L)?b(L.length,String):[],fe=B.length,ne=!!fe;for(var ae in L)f.call(L,ae)&&!(ne&&(ae=="length"||K(ae,fe)))&&B.push(ae);return B}function W(L,U,B){var fe=L[U];(!(f.call(L,U)&&F(fe,B))||B===void 0&&!(U in L))&&(L[U]=B)}function M(L){if(!I(L))return R(L);var U=[];for(var B in Object(L))f.call(L,B)&&B!="constructor"&&U.push(B);return U}function G(L,U){return U=j(U===void 0?L.length-1:U,0),function(){for(var B=arguments,fe=-1,ne=j(B.length-U,0),ae=Array(ne);++fe<ne;)ae[fe]=B[U+fe];fe=-1;for(var ye=Array(U+1);++fe<U;)ye[fe]=B[fe];return ye[U]=ae,k(L,this,ye)}}function $(L,U,B,fe){B||(B={});for(var ne=-1,ae=U.length;++ne<ae;){var ye=U[ne],we=void 0;W(B,ye,we===void 0?L[ye]:we)}return B}function A(L){return G(function(U,B){var fe=-1,ne=B.length,ae=ne>1?B[ne-1]:void 0,ye=ne>2?B[2]:void 0;for(ae=L.length>3&&typeof ae=="function"?(ne--,ae):void 0,ye&&J(B[0],B[1],ye)&&(ae=ne<3?void 0:ae,ne=1),U=Object(U);++fe<ne;){var we=B[fe];we&&L(U,we,fe,ae)}return U})}function K(L,U){return U=U??d,!!U&&(typeof L=="number"||g.test(L))&&L>-1&&L%1==0&&L<U}function J(L,U,B){if(!Z(B))return!1;var fe=typeof U;return(fe=="number"?Q(B)&&K(U,B.length):fe=="string"&&U in B)?F(B[U],L):!1}function I(L){var U=L&&L.constructor,B=typeof U=="function"&&U.prototype||l;return L===B}function F(L,U){return L===U||L!==L&&U!==U}function z(L){return le(L)&&f.call(L,"callee")&&(!w.call(L,"callee")||C.call(L)==s)}var ie=Array.isArray;function Q(L){return L!=null&&q(L.length)&&!ge(L)}function le(L){return pe(L)&&Q(L)}function ge(L){var U=Z(L)?C.call(L):"";return U==x||U==u}function q(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=d}function Z(L){var U=typeof L;return!!L&&(U=="object"||U=="function")}function pe(L){return!!L&&typeof L=="object"}var je=A(function(L,U){if(D||I(U)||Q(U)){$(U,Ee(U),L);return}for(var B in U)f.call(U,B)&&W(L,B,U[B])});function Ee(L){return Q(L)?N(L):M(L)}r.exports=je},2098:(r,d,s)=>{r=s.nmd(r);var x=200,u="__lodash_hash_undefined__",g=800,k=16,b=9007199254740991,P="[object Arguments]",l="[object Array]",f="[object AsyncFunction]",C="[object Boolean]",w="[object Date]",R="[object Error]",j="[object Function]",D="[object GeneratorFunction]",N="[object Map]",W="[object Number]",M="[object Null]",G="[object Object]",$="[object Proxy]",A="[object RegExp]",K="[object Set]",J="[object String]",I="[object Undefined]",F="[object WeakMap]",z="[object ArrayBuffer]",ie="[object DataView]",Q="[object Float32Array]",le="[object Float64Array]",ge="[object Int8Array]",q="[object Int16Array]",Z="[object Int32Array]",pe="[object Uint8Array]",je="[object Uint8ClampedArray]",Ee="[object Uint16Array]",L="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,ne={};ne[Q]=ne[le]=ne[ge]=ne[q]=ne[Z]=ne[pe]=ne[je]=ne[Ee]=ne[L]=!0,ne[P]=ne[l]=ne[z]=ne[C]=ne[ie]=ne[w]=ne[R]=ne[j]=ne[N]=ne[W]=ne[G]=ne[A]=ne[K]=ne[J]=ne[F]=!1;var ae=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,ye=typeof self=="object"&&self&&self.Object===Object&&self,we=ae||ye||Function("return this")(),Ne=d&&!d.nodeType&&d,Ie=Ne&&!0&&r&&!r.nodeType&&r,Pe=Ie&&Ie.exports===Ne,Ae=Pe&&ae.process,Fe=function(){try{var a=Ie&&Ie.require&&Ie.require("util").types;return a||Ae&&Ae.binding&&Ae.binding("util")}catch{}}(),_e=Fe&&Fe.isTypedArray;function _t(a,p,T){switch(T.length){case 0:return a.call(p);case 1:return a.call(p,T[0]);case 2:return a.call(p,T[0],T[1]);case 3:return a.call(p,T[0],T[1],T[2])}return a.apply(p,T)}function nn(a,p){for(var T=-1,X=Array(a);++T<a;)X[T]=p(T);return X}function sn(a){return function(p){return a(p)}}function an(a,p){return a==null?void 0:a[p]}function rn(a,p){return function(T){return a(p(T))}}var ut=Array.prototype,nt=Function.prototype,Ye=Object.prototype,qe=we["__core-js_shared__"],Ve=nt.toString,Me=Ye.hasOwnProperty,ht=function(){var a=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),dt=Ye.toString,ft=Ve.call(Object),pt=RegExp("^"+Ve.call(Me).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=Pe?we.Buffer:void 0,Ze=we.Symbol,mt=we.Uint8Array;Ge&&Ge.allocUnsafe;var vt=rn(Object.getPrototypeOf,Object),Ke=Object.create,gt=Ye.propertyIsEnumerable,jt=ut.splice,We=Ze?Ze.toStringTag:void 0,et=function(){try{var a=$t(Object,"defineProperty");return a({},"",{}),a}catch{}}(),At=Ge?Ge.isBuffer:void 0,yt=Math.max,It=Date.now,bt=$t(we,"Map"),ze=$t(Object,"create"),Lt=function(){function a(){}return function(p){if(!Ue(p))return{};if(Ke)return Ke(p);a.prototype=p;var T=new a;return a.prototype=void 0,T}}();function e(a){var p=-1,T=a==null?0:a.length;for(this.clear();++p<T;){var X=a[p];this.set(X[0],X[1])}}function t(){this.__data__=ze?ze(null):{},this.size=0}function o(a){var p=this.has(a)&&delete this.__data__[a];return this.size-=p?1:0,p}function h(a){var p=this.__data__;if(ze){var T=p[a];return T===u?void 0:T}return Me.call(p,a)?p[a]:void 0}function y(a){var p=this.__data__;return ze?p[a]!==void 0:Me.call(p,a)}function S(a,p){var T=this.__data__;return this.size+=this.has(a)?0:1,T[a]=ze&&p===void 0?u:p,this}e.prototype.clear=t,e.prototype.delete=o,e.prototype.get=h,e.prototype.has=y,e.prototype.set=S;function E(a){var p=-1,T=a==null?0:a.length;for(this.clear();++p<T;){var X=a[p];this.set(X[0],X[1])}}function V(){this.__data__=[],this.size=0}function Y(a){var p=this.__data__,T=wt(p,a);if(T<0)return!1;var X=p.length-1;return T==X?p.pop():jt.call(p,T,1),--this.size,!0}function re(a){var p=this.__data__,T=wt(p,a);return T<0?void 0:p[T][1]}function se(a){return wt(this.__data__,a)>-1}function ce(a,p){var T=this.__data__,X=wt(T,a);return X<0?(++this.size,T.push([a,p])):T[X][1]=p,this}E.prototype.clear=V,E.prototype.delete=Y,E.prototype.get=re,E.prototype.has=se,E.prototype.set=ce;function oe(a){var p=-1,T=a==null?0:a.length;for(this.clear();++p<T;){var X=a[p];this.set(X[0],X[1])}}function ee(){this.size=0,this.__data__={hash:new e,map:new(bt||E),string:new e}}function de(a){var p=Pt(this,a).delete(a);return this.size-=p?1:0,p}function ue(a){return Pt(this,a).get(a)}function te(a){return Pt(this,a).has(a)}function be(a,p){var T=Pt(this,a),X=T.size;return T.set(a,p),this.size+=T.size==X?0:1,this}oe.prototype.clear=ee,oe.prototype.delete=de,oe.prototype.get=ue,oe.prototype.has=te,oe.prototype.set=be;function ke(a){var p=this.__data__=new E(a);this.size=p.size}function st(){this.__data__=new E,this.size=0}function Re(a){var p=this.__data__,T=p.delete(a);return this.size=p.size,T}function De(a){return this.__data__.get(a)}function xt(a){return this.__data__.has(a)}function Nt(a,p){var T=this.__data__;if(T instanceof E){var X=T.__data__;if(!bt||X.length<x-1)return X.push([a,p]),this.size=++T.size,this;T=this.__data__=new oe(X)}return T.set(a,p),this.size=T.size,this}ke.prototype.clear=st,ke.prototype.delete=Re,ke.prototype.get=De,ke.prototype.has=xt,ke.prototype.set=Nt;function Se(a,p){var T=Ut(a),X=!T&&Wt(a),he=!T&&!X&&dn(a),me=!T&&!X&&!he&&pn(a),Te=T||X||he||me,ve=Te?nn(a.length,String):[],Ce=ve.length;for(var $e in a)Te&&($e=="length"||he&&($e=="offset"||$e=="parent")||me&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||un($e,Ce))||ve.push($e);return ve}function Ft(a,p,T){(T!==void 0&&!St(a[p],T)||T===void 0&&!(p in a))&&Mt(a,p,T)}function Kn(a,p,T){var X=a[p];(!(Me.call(a,p)&&St(X,T))||T===void 0&&!(p in a))&&Mt(a,p,T)}function wt(a,p){for(var T=a.length;T--;)if(St(a[T][0],p))return T;return-1}function Mt(a,p,T){p=="__proto__"&&et?et(a,p,{configurable:!0,enumerable:!0,value:T,writable:!0}):a[p]=T}var Qn=ls();function kt(a){return a==null?a===void 0?I:M:We&&We in Object(a)?cs(a):ms(a)}function on(a){return at(a)&&kt(a)==P}function Jn(a){if(!Ue(a)||fs(a))return!1;var p=Vt(a)?pt:B;return p.test(bs(a))}function Yn(a){return at(a)&&fn(a.length)&&!!ne[kt(a)]}function Zn(a){if(!Ue(a))return ps(a);var p=hn(a),T=[];for(var X in a)X=="constructor"&&(p||!Me.call(a,X))||T.push(X);return T}function Dt(a,p,T,X,he){a!==p&&Qn(p,function(me,Te){if(he||(he=new ke),Ue(me))es(a,p,Te,T,Dt,X,he);else{var ve=X?X(Gt(a,Te),me,Te+"",a,p,he):void 0;ve===void 0&&(ve=me),Ft(a,Te,ve)}},mn)}function es(a,p,T,X,he,me,Te){var ve=Gt(a,T),Ce=Gt(p,T),$e=Te.get(Ce);if($e){Ft(a,T,$e);return}var Le=me?me(ve,Ce,T+"",a,p,Te):void 0,rt=Le===void 0;if(rt){var zt=Ut(Ce),Bt=!zt&&dn(Ce),gn=!zt&&!Bt&&pn(Ce);Le=Ce,zt||Bt||gn?Ut(ve)?Le=ve:xs(ve)?Le=rs(ve):Bt?(rt=!1,Le=ns(Ce)):gn?(rt=!1,Le=as(Ce)):Le=[]:ws(Ce)||Wt(Ce)?(Le=ve,Wt(ve)?Le=ks(ve):(!Ue(ve)||Vt(ve))&&(Le=us(Ce))):rt=!1}rt&&(Te.set(Ce,Le),he(Le,Ce,X,me,Te),Te.delete(Ce)),Ft(a,T,Le)}function ln(a,p){return gs(vs(a,p,vn),a+"")}var ts=et?function(a,p){return et(a,"toString",{configurable:!0,enumerable:!1,value:Ts(p),writable:!0})}:vn;function ns(a,p){return a.slice()}function ss(a){var p=new a.constructor(a.byteLength);return new mt(p).set(new mt(a)),p}function as(a,p){var T=ss(a.buffer);return new a.constructor(T,a.byteOffset,a.length)}function rs(a,p){var T=-1,X=a.length;for(p||(p=Array(X));++T<X;)p[T]=a[T];return p}function is(a,p,T,X){var he=!T;T||(T={});for(var me=-1,Te=p.length;++me<Te;){var ve=p[me],Ce=void 0;Ce===void 0&&(Ce=a[ve]),he?Mt(T,ve,Ce):Kn(T,ve,Ce)}return T}function os(a){return ln(function(p,T){var X=-1,he=T.length,me=he>1?T[he-1]:void 0,Te=he>2?T[2]:void 0;for(me=a.length>3&&typeof me=="function"?(he--,me):void 0,Te&&hs(T[0],T[1],Te)&&(me=he<3?void 0:me,he=1),p=Object(p);++X<he;){var ve=T[X];ve&&a(p,ve,X,me)}return p})}function ls(a){return function(p,T,X){for(var he=-1,me=Object(p),Te=X(p),ve=Te.length;ve--;){var Ce=Te[++he];if(T(me[Ce],Ce,me)===!1)break}return p}}function cn(a,p,T,X,he,me){return Ue(a)&&Ue(p)&&(me.set(p,a),Dt(a,p,void 0,cn,me),me.delete(p)),a}function Pt(a,p){var T=a.__data__;return ds(p)?T[typeof p=="string"?"string":"hash"]:T.map}function $t(a,p){var T=an(a,p);return Jn(T)?T:void 0}function cs(a){var p=Me.call(a,We),T=a[We];try{a[We]=void 0;var X=!0}catch{}var he=dt.call(a);return X&&(p?a[We]=T:delete a[We]),he}function us(a){return typeof a.constructor=="function"&&!hn(a)?Lt(vt(a)):{}}function un(a,p){var T=typeof a;return p=p??b,!!p&&(T=="number"||T!="symbol"&&fe.test(a))&&a>-1&&a%1==0&&a<p}function hs(a,p,T){if(!Ue(T))return!1;var X=typeof p;return(X=="number"?qt(T)&&un(p,T.length):X=="string"&&p in T)?St(T[p],a):!1}function ds(a){var p=typeof a;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?a!=="__proto__":a===null}function fs(a){return!!ht&&ht in a}function hn(a){var p=a&&a.constructor,T=typeof p=="function"&&p.prototype||Ye;return a===T}function ps(a){var p=[];if(a!=null)for(var T in Object(a))p.push(T);return p}function ms(a){return dt.call(a)}function vs(a,p,T){return p=yt(p===void 0?a.length-1:p,0),function(){for(var X=arguments,he=-1,me=yt(X.length-p,0),Te=Array(me);++he<me;)Te[he]=X[p+he];he=-1;for(var ve=Array(p+1);++he<p;)ve[he]=X[he];return ve[p]=T(Te),_t(a,this,ve)}}function Gt(a,p){if(!(p==="constructor"&&typeof a[p]=="function")&&p!="__proto__")return a[p]}var gs=ys(ts);function ys(a){var p=0,T=0;return function(){var X=It(),he=k-(X-T);if(T=X,he>0){if(++p>=g)return arguments[0]}else p=0;return a.apply(void 0,arguments)}}function bs(a){if(a!=null){try{return Ve.call(a)}catch{}try{return a+""}catch{}}return""}function St(a,p){return a===p||a!==a&&p!==p}var Wt=on(function(){return arguments}())?on:function(a){return at(a)&&Me.call(a,"callee")&&!gt.call(a,"callee")},Ut=Array.isArray;function qt(a){return a!=null&&fn(a.length)&&!Vt(a)}function xs(a){return at(a)&&qt(a)}var dn=At||Cs;function Vt(a){if(!Ue(a))return!1;var p=kt(a);return p==j||p==D||p==f||p==$}function fn(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=b}function Ue(a){var p=typeof a;return a!=null&&(p=="object"||p=="function")}function at(a){return a!=null&&typeof a=="object"}function ws(a){if(!at(a)||kt(a)!=G)return!1;var p=vt(a);if(p===null)return!0;var T=Me.call(p,"constructor")&&p.constructor;return typeof T=="function"&&T instanceof T&&Ve.call(T)==ft}var pn=_e?sn(_e):Yn;function ks(a){return is(a,mn(a))}var Ps=ln(function(a){return a.push(void 0,cn),_t(Ss,void 0,a)});function mn(a){return qt(a)?Se(a):Zn(a)}var Ss=os(function(a,p,T,X){Dt(a,p,T,X)});function Ts(a){return function(){return a}}function vn(a){return a}function Cs(){return!1}r.exports=Ps},3520:r=>{var d=9007199254740991,s="[object Arguments]",x="[object Function]",u="[object GeneratorFunction]",g=/^(?:0|[1-9]\d*)$/;function k(q,Z){for(var pe=-1,je=Array(q);++pe<q;)je[pe]=Z(pe);return je}function b(q,Z){return function(pe){return q(Z(pe))}}var P=Object.prototype,l=P.hasOwnProperty,f=P.toString,C=P.propertyIsEnumerable,w=b(Object.keys,Object);function R(q,Z){var pe=A(q)||$(q)?k(q.length,String):[],je=pe.length,Ee=!!je;for(var L in q)l.call(q,L)&&!(Ee&&(L=="length"||M(L,je)))&&pe.push(L);return pe}var j=W();function D(q,Z){return q&&j(q,Z,le)}function N(q){if(!G(q))return w(q);var Z=[];for(var pe in Object(q))l.call(q,pe)&&pe!="constructor"&&Z.push(pe);return Z}function W(q){return function(Z,pe,je){for(var Ee=-1,L=Object(Z),U=je(Z),B=U.length;B--;){var fe=U[++Ee];if(pe(L[fe],fe,L)===!1)break}return Z}}function M(q,Z){return Z=Z??d,!!Z&&(typeof q=="number"||g.test(q))&&q>-1&&q%1==0&&q<Z}function G(q){var Z=q&&q.constructor,pe=typeof Z=="function"&&Z.prototype||P;return q===pe}function $(q){return J(q)&&l.call(q,"callee")&&(!C.call(q,"callee")||f.call(q)==s)}var A=Array.isArray;function K(q){return q!=null&&F(q.length)&&!I(q)}function J(q){return ie(q)&&K(q)}function I(q){var Z=z(q)?f.call(q):"";return Z==x||Z==u}function F(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=d}function z(q){var Z=typeof q;return!!q&&(Z=="object"||Z=="function")}function ie(q){return!!q&&typeof q=="object"}function Q(q,Z){return q&&D(q,typeof Z=="function"?Z:ge)}function le(q){return K(q)?R(q):N(q)}function ge(q){return q}r.exports=Q},372:(r,d,s)=>{var x=s(6060);r.exports=function(u){if(typeof u!="function"||!hasOwnProperty.call(u,"length"))return!1;try{if(typeof u.length!="number"||typeof u.call!="function"||typeof u.apply!="function")return!1}catch{return!1}return!x(u)}},3940:(r,d,s)=>{var x=s(5618),u={object:!0,function:!0,undefined:!0};r.exports=function(g){return x(g)?hasOwnProperty.call(u,typeof g):!1}},7205:(r,d,s)=>{var x=s(372),u=/^\s*class[\s{/}]/,g=Function.prototype.toString;r.exports=function(k){return!(!x(k)||u.test(g.call(k)))}},6060:(r,d,s)=>{var x=s(3940);r.exports=function(u){if(!x(u))return!1;try{return u.constructor?u.constructor.prototype===u:!1}catch{return!1}}},5618:r=>{var d=void 0;r.exports=function(s){return s!==d&&s!==null}},4935:(r,d,s)=>{var x=s(3513);r.exports=x},7921:(r,d,s)=>{var x=s(3072);r.exports=x},347:(r,d,s)=>{var x=s(8744);r.exports=x},9720:(r,d,s)=>{var x=s(6943);r.exports=x},6672:(r,d,s)=>{var x=s(6240),u=s(7265);r.exports=g;function g(l,f,C){for(var w in f){var R=f[w];R===void 0?k(l,w,R,C):u(R)?(k(l,w,R,C),R.hook&&R.hook(l,w,C?C[w]:void 0)):x(R)?b(l,f,C,w,R):l[w]=R}}function k(l,f,C,w){if(w){var R=w[f];if(u(R))R.unhook&&R.unhook(l,f,C);else if(f==="attributes")for(var j in R)l.removeAttribute(j);else if(f==="style")for(var D in R)l.style[D]="";else typeof R=="string"?l[f]="":l[f]=null}}function b(l,f,C,w,R){var j=C?C[w]:void 0;if(w==="attributes"){for(var D in R){var N=R[D];N===void 0?l.removeAttribute(D):l.setAttribute(D,N)}return}if(j&&x(j)&&P(j)!==P(R)){l[w]=R;return}x(l[w])||(l[w]={});var W=w==="style"?"":void 0;for(var M in R){var G=R[M];l[w][M]=G===void 0?W:G}}function P(l){if(Object.getPrototypeOf)return Object.getPrototypeOf(l);if(l.__proto__)return l.__proto__;if(l.constructor)return l.constructor.prototype}},3513:(r,d,s)=>{var x=s(9144),u=s(6672),g=s(5170),k=s(6221),b=s(4097),P=s(6078);r.exports=l;function l(f,C){var w=C&&C.document||x,R=C?C.warn:null;if(f=P(f).a,b(f))return f.init();if(k(f))return w.createTextNode(f.text);if(!g(f))return R&&R("Item is not a valid virtual dom node",f),null;var j=f.namespace===null?w.createElement(f.tagName):w.createElementNS(f.namespace,f.tagName),D=f.properties;u(j,D);for(var N=f.children,W=0;W<N.length;W++){var M=l(N[W],C);M&&j.appendChild(M)}return j}},8992:r=>{var d={};r.exports=s;function s(k,b,P,l){return!P||P.length===0?{}:(P.sort(g),x(k,b,P,l,0))}function x(k,b,P,l,f){if(l=l||{},k){u(P,f,f)&&(l[f]=k);var C=b.children;if(C)for(var w=k.childNodes,R=0;R<b.children.length;R++){f+=1;var j=C[R]||d,D=f+(j.count||0);u(P,f,D)&&x(w[R],j,P,l,f),f=D}}return l}function u(k,b,P){if(k.length===0)return!1;for(var l=0,f=k.length-1,C,w;l<=f;){if(C=(f+l)/2>>0,w=k[C],l===f)return w>=b&&w<=P;if(w<b)l=C+1;else if(w>P)f=C-1;else return!0}return!1}function g(k,b){return k>b?1:-1}},9120:(r,d,s)=>{var x=s(6672),u=s(4097),g=s(8057),k=s(6670);r.exports=b;function b(N,W,M){var G=N.type,$=N.vNode,A=N.patch;switch(G){case g.REMOVE:return P(W,$);case g.INSERT:return l(W,A,M);case g.VTEXT:return f(W,$,A,M);case g.WIDGET:return C(W,$,A,M);case g.VNODE:return w(W,$,A,M);case g.ORDER:return j(W,A),W;case g.PROPS:return x(W,A,$.properties),W;case g.THUNK:return D(W,M.patch(W,A,M));default:return W}}function P(N,W){var M=N.parentNode;return M&&M.removeChild(N),R(N,W),null}function l(N,W,M){var G=M.render(W,M);return N&&N.appendChild(G),N}function f(N,W,M,G){var $;if(N.nodeType===3)N.replaceData(0,N.length,M.text),$=N;else{var A=N.parentNode;$=G.render(M,G),A&&$!==N&&A.replaceChild($,N)}return $}function C(N,W,M,G){var $=k(W,M),A;$?A=M.update(W,N)||N:A=G.render(M,G);var K=N.parentNode;return K&&A!==N&&K.replaceChild(A,N),$||R(N,W),A}function w(N,W,M,G){var $=N.parentNode,A=G.render(M,G);return $&&A!==N&&$.replaceChild(A,N),A}function R(N,W){typeof W.destroy=="function"&&u(W)&&W.destroy(N)}function j(N,W){for(var M=N.childNodes,G={},$,A,K,J=0;J<W.removes.length;J++)A=W.removes[J],$=M[A.from],A.key&&(G[A.key]=$),N.removeChild($);for(var I=M.length,F=0;F<W.inserts.length;F++)K=W.inserts[F],$=G[K.key],N.insertBefore($,K.to>=I++?null:M[K.to])}function D(N,W){return N&&W&&N!==W&&N.parentNode&&N.parentNode.replaceChild(W,N),W}},6943:(r,d,s)=>{var x=s(9144),u=s(7362),g=s(3513),k=s(8992),b=s(9120);r.exports=P;function P(w,R,j){return j=j||{},j.patch=j.patch&&j.patch!==P?j.patch:l,j.render=j.render||g,j.patch(w,R,j)}function l(w,R,j){var D=C(R);if(D.length===0)return w;var N=k(w,R.a,D),W=w.ownerDocument;!j.document&&W!==x&&(j.document=W);for(var M=0;M<D.length;M++){var G=D[M];w=f(w,N[G],R[G],j)}return w}function f(w,R,j,D){if(!R)return w;var N;if(u(j))for(var W=0;W<j.length;W++)N=b(j[W],R,D),R===w&&(w=N);else N=b(j,R,D),R===w&&(w=N);return w}function C(w){var R=[];for(var j in w)j!=="a"&&R.push(Number(j));return R}},6670:(r,d,s)=>{var x=s(4097);r.exports=u;function u(g,k){return x(g)&&x(k)?"name"in g&&"name"in k?g.id===k.id:g.init===k.init:!1}},6505:(r,d,s)=>{var x=s(8832);r.exports=u;function u(g){if(!(this instanceof u))return new u(g);this.value=g}u.prototype.hook=function(g,k){var b=x(g),P=k.substr(3);b[P]=this.value},u.prototype.unhook=function(g,k){var b=x(g),P=k.substr(3);b[P]=void 0}},7199:r=>{r.exports=d;function d(s){if(!(this instanceof d))return new d(s);this.value=s}d.prototype.hook=function(s,x){s[x]!==this.value&&(s[x]=this.value)}},8744:(r,d,s)=>{var x=s(7362),u=s(4282),g=s(4268),k=s(5170),b=s(6221),P=s(4097),l=s(7265),f=s(6741),C=s(1948),w=s(7199),R=s(6505);r.exports=j;function j(A,K,J){var I=[],F,z,ie,Q;return!J&&M(K)&&(J=K,z={}),z=z||K||{},F=C(A,z),z.hasOwnProperty("key")&&(ie=z.key,z.key=void 0),z.hasOwnProperty("namespace")&&(Q=z.namespace,z.namespace=void 0),F==="INPUT"&&!Q&&z.hasOwnProperty("value")&&z.value!==void 0&&!l(z.value)&&(z.value=w(z.value)),N(z),J!=null&&D(J,I,F,z),new u(F,z,I,ie,Q)}function D(A,K,J,I){if(typeof A=="string")K.push(new g(A));else if(typeof A=="number")K.push(new g(String(A)));else if(W(A))K.push(A);else if(x(A))for(var F=0;F<A.length;F++)D(A[F],K,J,I);else{if(A==null)return;throw G({foreignObject:A,parentVnode:{tagName:J,properties:I}})}}function N(A){for(var K in A)if(A.hasOwnProperty(K)){var J=A[K];if(l(J))continue;K.substr(0,3)==="ev-"&&(A[K]=R(J))}}function W(A){return k(A)||b(A)||P(A)||f(A)}function M(A){return typeof A=="string"||x(A)||W(A)}function G(A){var K=new Error;return K.type="virtual-hyperscript.unexpected.virtual-element",K.message=`Unexpected virtual child passed to h().
Expected a VNode / Vthunk / VWidget / string but:
got:
`+$(A.foreignObject)+`.
The parent vnode is:
`+$(A.parentVnode),K.foreignObject=A.foreignObject,K.parentVnode=A.parentVnode,K}function $(A){try{return JSON.stringify(A,null,"    ")}catch{return String(A)}}},1948:(r,d,s)=>{var x=s(6824),u=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,g=/^\.|#/;r.exports=k;function k(b,P){if(!b)return"DIV";var l=!P.hasOwnProperty("id"),f=x(b,u),C=null;g.test(f[1])&&(C="DIV");var w,R,j,D;for(D=0;D<f.length;D++)R=f[D],R&&(j=R.charAt(0),C?j==="."?(w=w||[],w.push(R.substring(1,R.length))):j==="#"&&l&&(P.id=R.substring(1,R.length)):C=R);return w&&(P.className&&w.push(P.className),P.className=w.join(" ")),P.namespace?C:C.toUpperCase()}},6078:(r,d,s)=>{var x=s(5170),u=s(6221),g=s(4097),k=s(6741);r.exports=b;function b(l,f){var C=l,w=f;return k(f)&&(w=P(f,l)),k(l)&&(C=P(l,null)),{a:C,b:w}}function P(l,f){var C=l.vnode;if(C||(C=l.vnode=l.render(f)),!(x(C)||u(C)||g(C)))throw new Error("thunk did not return a valid node");return C}},6741:r=>{r.exports=d;function d(s){return s&&s.type==="Thunk"}},7265:r=>{r.exports=d;function d(s){return s&&(typeof s.hook=="function"&&!s.hasOwnProperty("hook")||typeof s.unhook=="function"&&!s.hasOwnProperty("unhook"))}},5170:(r,d,s)=>{var x=s(9962);r.exports=u;function u(g){return g&&g.type==="VirtualNode"&&g.version===x}},6221:(r,d,s)=>{var x=s(9962);r.exports=u;function u(g){return g&&g.type==="VirtualText"&&g.version===x}},4097:r=>{r.exports=d;function d(s){return s&&s.type==="Widget"}},9962:r=>{r.exports="2"},4282:(r,d,s)=>{var x=s(9962),u=s(5170),g=s(4097),k=s(6741),b=s(7265);r.exports=f;var P={},l=[];function f(C,w,R,j,D){this.tagName=C,this.properties=w||P,this.children=R||l,this.key=j!=null?String(j):void 0,this.namespace=typeof D=="string"?D:null;var N=R&&R.length||0,W=0,M=!1,G=!1,$=!1,A;for(var K in w)if(w.hasOwnProperty(K)){var J=w[K];b(J)&&J.unhook&&(A||(A={}),A[K]=J)}for(var I=0;I<N;I++){var F=R[I];u(F)?(W+=F.count||0,!M&&F.hasWidgets&&(M=!0),!G&&F.hasThunks&&(G=!0),!$&&(F.hooks||F.descendantHooks)&&($=!0)):!M&&g(F)?typeof F.destroy=="function"&&(M=!0):!G&&k(F)&&(G=!0)}this.count=N+W,this.hasWidgets=M,this.hasThunks=G,this.hooks=A,this.descendantHooks=$}f.prototype.version=x,f.prototype.type="VirtualNode"},8057:(r,d,s)=>{var x=s(9962);u.NONE=0,u.VTEXT=1,u.VNODE=2,u.WIDGET=3,u.PROPS=4,u.ORDER=5,u.INSERT=6,u.REMOVE=7,u.THUNK=8,r.exports=u;function u(g,k,b){this.type=Number(g),this.vNode=k,this.patch=b}u.prototype.version=x,u.prototype.type="VirtualPatch"},4268:(r,d,s)=>{var x=s(9962);r.exports=u;function u(g){this.text=String(g)}u.prototype.version=x,u.prototype.type="VirtualText"},9973:(r,d,s)=>{var x=s(6240),u=s(7265);r.exports=g;function g(b,P){var l;for(var f in b){f in P||(l=l||{},l[f]=void 0);var C=b[f],w=P[f];if(C!==w)if(x(C)&&x(w))if(k(w)!==k(C))l=l||{},l[f]=w;else if(u(w))l=l||{},l[f]=w;else{var R=g(C,w);R&&(l=l||{},l[f]=R)}else l=l||{},l[f]=w}for(var j in P)j in b||(l=l||{},l[j]=P[j]);return l}function k(b){if(Object.getPrototypeOf)return Object.getPrototypeOf(b);if(b.__proto__)return b.__proto__;if(b.constructor)return b.constructor.prototype}},3072:(r,d,s)=>{var x=s(7362),u=s(8057),g=s(5170),k=s(6221),b=s(4097),P=s(6741),l=s(6078),f=s(9973);r.exports=C;function C(I,F){var z={a:I};return w(I,F,z,0),z}function w(I,F,z,ie){if(I!==F){var Q=z[ie],le=!1;if(P(I)||P(F))N(I,F,z,ie);else if(F==null)b(I)||(j(I,z,ie),Q=z[ie]),Q=J(Q,new u(u.REMOVE,I,F));else if(g(F))if(g(I))if(I.tagName===F.tagName&&I.namespace===F.namespace&&I.key===F.key){var ge=f(I.properties,F.properties);ge&&(Q=J(Q,new u(u.PROPS,I,ge))),Q=R(I,F,z,Q,ie)}else Q=J(Q,new u(u.VNODE,I,F)),le=!0;else Q=J(Q,new u(u.VNODE,I,F)),le=!0;else k(F)?k(I)?I.text!==F.text&&(Q=J(Q,new u(u.VTEXT,I,F))):(Q=J(Q,new u(u.VTEXT,I,F)),le=!0):b(F)&&(b(I)||(le=!0),Q=J(Q,new u(u.WIDGET,I,F)));Q&&(z[ie]=Q),le&&j(I,z,ie)}}function R(I,F,z,ie,Q){for(var le=I.children,ge=$(le,F.children),q=ge.children,Z=le.length,pe=q.length,je=Z>pe?Z:pe,Ee=0;Ee<je;Ee++){var L=le[Ee],U=q[Ee];Q+=1,L?w(L,U,z,Q):U&&(ie=J(ie,new u(u.INSERT,null,U))),g(L)&&L.count&&(Q+=L.count)}return ge.moves&&(ie=J(ie,new u(u.ORDER,I,ge.moves))),ie}function j(I,F,z){M(I,F,z),D(I,F,z)}function D(I,F,z){if(b(I))typeof I.destroy=="function"&&(F[z]=J(F[z],new u(u.REMOVE,I,null)));else if(g(I)&&(I.hasWidgets||I.hasThunks))for(var ie=I.children,Q=ie.length,le=0;le<Q;le++){var ge=ie[le];z+=1,D(ge,F,z),g(ge)&&ge.count&&(z+=ge.count)}else P(I)&&N(I,null,F,z)}function N(I,F,z,ie){var Q=l(I,F),le=C(Q.a,Q.b);W(le)&&(z[ie]=new u(u.THUNK,null,le))}function W(I){for(var F in I)if(F!=="a")return!0;return!1}function M(I,F,z){if(g(I)){if(I.hooks&&(F[z]=J(F[z],new u(u.PROPS,I,G(I.hooks)))),I.descendantHooks||I.hasThunks)for(var ie=I.children,Q=ie.length,le=0;le<Q;le++){var ge=ie[le];z+=1,M(ge,F,z),g(ge)&&ge.count&&(z+=ge.count)}}else P(I)&&N(I,null,F,z)}function G(I){var F={};for(var z in I)F[z]=void 0;return F}function $(I,F){var z=K(F),ie=z.keys,Q=z.free;if(Q.length===F.length)return{children:F,moves:null};var le=K(I),ge=le.keys,q=le.free;if(q.length===I.length)return{children:F,moves:null};for(var Z=[],pe=0,je=Q.length,Ee=0,L=0;L<I.length;L++){var U=I[L],B;U.key?ie.hasOwnProperty(U.key)?(B=ie[U.key],Z.push(F[B])):(B=L-Ee++,Z.push(null)):pe<je?(B=Q[pe++],Z.push(F[B])):(B=L-Ee++,Z.push(null))}for(var fe=pe>=Q.length?F.length:Q[pe],ne=0;ne<F.length;ne++){var ae=F[ne];ae.key?ge.hasOwnProperty(ae.key)||Z.push(ae):ne>=fe&&Z.push(ae)}for(var ye=Z.slice(),we=0,Ne=[],Ie=[],Pe,Ae=0;Ae<F.length;){var Fe=F[Ae];for(Pe=ye[we];Pe===null&&ye.length;)Ne.push(A(ye,we,null)),Pe=ye[we];!Pe||Pe.key!==Fe.key?Fe.key?(Pe&&Pe.key?ie[Pe.key]!==Ae+1?(Ne.push(A(ye,we,Pe.key)),Pe=ye[we],!Pe||Pe.key!==Fe.key?Ie.push({key:Fe.key,to:Ae}):we++):Ie.push({key:Fe.key,to:Ae}):Ie.push({key:Fe.key,to:Ae}),Ae++):Pe&&Pe.key&&Ne.push(A(ye,we,Pe.key)):(we++,Ae++)}for(;we<ye.length;)Pe=ye[we],Ne.push(A(ye,we,Pe&&Pe.key));return Ne.length===Ee&&!Ie.length?{children:Z,moves:null}:{children:Z,moves:{removes:Ne,inserts:Ie}}}function A(I,F,z){return I.splice(F,1),{from:F,key:z}}function K(I){for(var F={},z=[],ie=I.length,Q=0;Q<ie;Q++){var le=I[Q];le.key?F[le.key]=Q:z.push(Q)}return{keys:F,free:z}}function J(I,F){return I?(x(I)?I.push(F):I=[I,F],I):F}},4991:r=>{function d(b){for(var P=1/0,l=-1/0,f=0,C=b.length,w;f<C;f++)w=b[f],P>w&&(P=w),l<w&&(l=w);return{min:P,max:l}}function s(b,P){var l=Math.pow(2,P-1),f=b<0?b*l:b*(l-1);return Math.max(-l,Math.min(l-1,f))}function x(b,P,l){var f,C=b.length,w=Math.ceil(C/P),R,j,D,N,W,M,G=u(l,w*2);for(f=0;f<w;f++)R=f*P,j=(f+1)*P>C?C:(f+1)*P,D=b.subarray(R,j),M=d(D),W=s(M.min,l),N=s(M.max,l),G[f*2]=W,G[f*2+1]=N;return G}function u(b,P){return new(new Function(`return Int${b}Array`)())(P)}function g(b,P){var l=b.length,f=1/l,C=b[0].length/2,w=0,R=0,j,D,N=u(P,C*2);for(R=0;R<C;R++){for(j=0,D=0,w=0;w<l;w++)j+=f*b[w][R*2],D+=f*b[w][R*2+1];N[R*2]=j,N[R*2+1]=D}return[N]}function k(b,P){return typeof b=="number"?b:P}r.exports=function(b,P,l,f,C,w){if(P=k(P,1e3),w=k(w,16),l==null&&(l=!0),[8,16,32].indexOf(w)<0)throw new Error("Invalid number of bits specified for peaks.");var R=b.numberOfChannels,j=[],D,N,W,M;if(f=k(f,0),C=k(C,b.length),typeof b.subarray>"u")for(D=0;D<R;D++)W=b.getChannelData(D),M=W.subarray(f,C),j.push(x(M,P,w));else j.push(x(b.subarray(f,C),P,w));return l&&j.length>1&&(j=g(j,w)),N=j[0].length/2,{length:N,data:j,bits:w}}},7362:r=>{var d=Array.isArray,s=Object.prototype.toString;r.exports=d||x;function x(u){return s.call(u)==="[object Array]"}},5893:()=>{}},v={};function c(r){var d=v[r];if(d!==void 0)return d.exports;var s=v[r]={id:r,loaded:!1,exports:{}};return m[r](s,s.exports,c),s.loaded=!0,s.exports}c.n=r=>{var d=r&&r.__esModule?()=>r.default:()=>r;return c.d(d,{a:d}),d},c.d=(r,d)=>{for(var s in d)c.o(d,s)&&!c.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:d[s]})},c.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),c.o=(r,d)=>Object.prototype.hasOwnProperty.call(r,d),c.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},c.nmd=r=>(r.paths=[],r.children||(r.children=[]),r);var _={};return(()=>{c.r(_),c.d(_,{default:()=>Lt,init:()=>ze});var r=c(2098),d=c.n(r),s=c(4935),x=c.n(s),u=c(8370),g=c.n(u),k=c(347),b=c.n(k),P=c(7921),l=c.n(P),f=c(9720),C=c.n(f),w=c(849),R=c.n(w);function j(e,t){return Math.ceil(e*t)}function D(e,t,o){return e*t/o}function N(e,t,o){return Math.ceil(e*o/t)}function W(e,t){const o=Math.ceil(e.duration*t),h=new OfflineAudioContext(e.numberOfChannels,o,t),y=h.createBufferSource();return y.buffer=e,y.connect(h.destination),y.start(),h.startRendering()}const M=0,G=1,$=2,A=3,K=class{constructor(e,t,o=g()()){this.src=e,this.ac=t,this.audioRequestState=M,this.ee=o}setStateChange(e){this.audioRequestState=e,this.ee.emit("audiorequeststatechange",this.audioRequestState,this.src)}fileProgress(e){let t=0;this.audioRequestState===M&&this.setStateChange(G),e.lengthComputable&&(t=e.loaded/e.total*100),this.ee.emit("loadprogress",t,this.src)}fileLoad(e){const t=e.target.response||e.target.result;return this.setStateChange($),new Promise((o,h)=>{this.ac.decodeAudioData(t,y=>{this.audioBuffer=y,this.setStateChange(A),o(y)},y=>{h(y===null?Error("MediaDecodeAudioDataUnknownContentType"):y)})})}},J=class extends K{load(){return new Promise((e,t)=>{if(this.src.type.match(/audio.*/)||this.src.type.match(/video\/ogg/)){const o=new FileReader;o.readAsArrayBuffer(this.src),o.addEventListener("progress",h=>{super.fileProgress(h)}),o.addEventListener("load",h=>{super.fileLoad(h).then(S=>{e(S)}).catch(t)}),o.addEventListener("error",t)}else t(Error(`Unsupported file type ${this.src.type}`))})}};class I extends K{load(){return Promise.resolve(this.src)}}const F=class extends K{load(){return new Promise((e,t)=>{const o=new XMLHttpRequest;o.open("GET",this.src,!0),o.responseType="arraybuffer",o.send(),o.addEventListener("progress",h=>{super.fileProgress(h)}),o.addEventListener("load",h=>{super.fileLoad(h).then(S=>{e(S)}).catch(t)}),o.addEventListener("error",()=>{t(Error(`Track ${this.src} failed to load`))})})}},z=class{static createLoader(e,t,o){if(e instanceof Blob)return new J(e,t,o);if(e instanceof AudioBuffer)return new I(e,t,o);if(typeof e=="string")return new F(e,t,o);throw new Error("Unsupported src type")}},ie=class{constructor(e){this.playlist=e}hook(e){const t=this.playlist;if(!t.isScrolling){const o=e;if(t.isAutomaticScroll){const y=e.getBoundingClientRect(),S=t.controls.show?t.controls.width:0,E=D(y.width-S,t.samplesPerPixel,t.sampleRate),V=t.isPlaying()?t.playbackSeconds:t.getTimeSelection().start;(V<t.scrollLeft||V>=t.scrollLeft+E)&&(t.scrollLeft=Math.min(V,t.duration-E))}const h=N(t.scrollLeft,t.samplesPerPixel,t.sampleRate);o.scrollLeft=h}}},Q=class{constructor(e,t,o,h,y){this.tickInfo=e,this.offset=t,this.samplesPerPixel=o,this.duration=h,this.colors=y}hook(e,t,o){if(o!==void 0&&o.offset===this.offset&&o.duration===this.duration&&o.samplesPerPixel===this.samplesPerPixel)return;const h=e.width,y=e.height,S=e.getContext("2d");S.clearRect(0,0,h,y),S.fillStyle=this.colors.timeColor,Object.keys(this.tickInfo).forEach(E=>{const V=this.tickInfo[E],Y=y-V;S.fillRect(E,Y,1,V)})}};class le{constructor(t,o,h,y,S=0,E){this.duration=t,this.offset=o,this.samplesPerPixel=h,this.sampleRate=y,this.marginLeft=S,this.colors=E,this.timeinfo={2e4:{marker:3e4,bigStep:1e4,smallStep:5e3,secondStep:5},12e3:{marker:15e3,bigStep:5e3,smallStep:1e3,secondStep:1},1e4:{marker:1e4,bigStep:5e3,smallStep:1e3,secondStep:1},5e3:{marker:5e3,bigStep:1e3,smallStep:500,secondStep:1/2},2500:{marker:2e3,bigStep:1e3,smallStep:500,secondStep:1/2},1500:{marker:2e3,bigStep:1e3,smallStep:200,secondStep:1/5},700:{marker:1e3,bigStep:500,smallStep:100,secondStep:1/10}}}getScaleInfo(t){let o=Object.keys(this.timeinfo).map(h=>parseInt(h,10));o=o.sort((h,y)=>h-y);for(let h=0;h<o.length;h+=1)if(t<=o[h])return this.timeinfo[o[h]];return this.timeinfo[o[0]]}static formatTime(t){const o=t/1e3;let h=o%60;const y=(o-h)/60;return h<10&&(h=`0${h}`),`${y}:${h}`}render(){const t=N(this.duration,this.samplesPerPixel,this.sampleRate),o=this.sampleRate/this.samplesPerPixel,h=N(this.offset,this.samplesPerPixel,this.sampleRate),y=this.getScaleInfo(this.samplesPerPixel),S={},E=[],V=t+h;let Y=0;for(let re=0;re<V;re+=o*y.secondStep){const se=Math.floor(re),ce=se-h;se>=h&&(y.marker&&Y%y.marker===0?(E.push(b()("div.time",{attributes:{style:`position: absolute; left: ${ce}px;`}},[le.formatTime(Y)])),S[ce]=10):y.bigStep&&Y%y.bigStep===0?S[ce]=5:y.smallStep&&Y%y.smallStep===0&&(S[ce]=2)),Y+=1e3*y.secondStep}return b()("div.playlist-time-scale",{attributes:{style:`position: relative; left: 0; right: 0; margin-left: ${this.marginLeft}px;`}},[E,b()("canvas",{attributes:{width:t,height:30,style:"position: absolute; left: 0; right: 0; top: 0; bottom: 0;"},hook:new Q(S,this.offset,this.samplesPerPixel,this.duration,this.colors)})])}}const ge=le;var q=c(1730),Z=c.n(q),pe=c(3520),je=c.n(pe),Ee,L=new Uint8Array(16);function U(){if(!Ee&&(Ee=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ee))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ee(L)}const B=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function fe(e){return typeof e=="string"&&B.test(e)}const ne=fe;for(var ae=[],ye=0;ye<256;++ye)ae.push((ye+256).toString(16).substr(1));function we(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=(ae[e[t+0]]+ae[e[t+1]]+ae[e[t+2]]+ae[e[t+3]]+"-"+ae[e[t+4]]+ae[e[t+5]]+"-"+ae[e[t+6]]+ae[e[t+7]]+"-"+ae[e[t+8]]+ae[e[t+9]]+"-"+ae[e[t+10]]+ae[e[t+11]]+ae[e[t+12]]+ae[e[t+13]]+ae[e[t+14]]+ae[e[t+15]]).toLowerCase();if(!ne(o))throw TypeError("Stringified UUID is invalid");return o}const Ne=we;function Ie(e,t,o){e=e||{};var h=e.random||(e.rng||U)();if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,t){o=o||0;for(var y=0;y<16;++y)t[o+y]=h[y];return t}return Ne(h)}const Pe=Ie;var Ae=c(4991),Fe=c.n(Ae),_e=c(1114);const ut={cursor:class{constructor(e){this.track=e}setup(e,t){this.samplesPerPixel=e,this.sampleRate=t}click(e){e.preventDefault();const t=e.offsetX,o=D(t,this.samplesPerPixel,this.sampleRate);this.track.ee.emit("select",o,o,this.track)}static getClass(){return".state-cursor"}static getEvents(){return["click"]}},select:class{constructor(e){this.track=e,this.active=!1}setup(e,t){this.samplesPerPixel=e,this.sampleRate=t}emitSelection(e){const t=Math.min(e,this.startX),o=Math.max(e,this.startX),h=D(t,this.samplesPerPixel,this.sampleRate),y=D(o,this.samplesPerPixel,this.sampleRate);this.track.ee.emit("select",h,y,this.track)}complete(e){this.emitSelection(e),this.active=!1}mousedown(e){e.preventDefault(),this.active=!0,this.startX=e.offsetX;const t=D(this.startX,this.samplesPerPixel,this.sampleRate);this.track.ee.emit("select",t,t,this.track)}mousemove(e){this.active&&(e.preventDefault(),this.emitSelection(e.offsetX))}mouseup(e){this.active&&(e.preventDefault(),this.complete(e.offsetX))}mouseleave(e){this.active&&(e.preventDefault(),this.complete(e.offsetX))}static getClass(){return".state-select"}static getEvents(){return["mousedown","mousemove","mouseup","mouseleave"]}},shift:class{constructor(e){this.track=e,this.active=!1}setup(e,t){this.samplesPerPixel=e,this.sampleRate=t}emitShift(e){const t=e-this.prevX,o=D(t,this.samplesPerPixel,this.sampleRate);this.prevX=e,this.track.ee.emit("shift",o,this.track)}complete(e){this.emitShift(e),this.active=!1}mousedown(e){e.preventDefault(),this.active=!0,this.el=e.target,this.prevX=e.offsetX}mousemove(e){this.active&&(e.preventDefault(),this.emitShift(e.offsetX))}mouseup(e){this.active&&(e.preventDefault(),this.complete(e.offsetX))}mouseleave(e){this.active&&(e.preventDefault(),this.complete(e.offsetX))}static getClass(){return".state-shift"}static getEvents(){return["mousedown","mousemove","mouseup","mouseleave"]}},fadein:class{constructor(e){this.track=e}setup(e,t){this.samplesPerPixel=e,this.sampleRate=t}click(e){const t=e.offsetX,o=D(t,this.samplesPerPixel,this.sampleRate);o>this.track.getStartTime()&&o<this.track.getEndTime()&&this.track.ee.emit("fadein",o-this.track.getStartTime(),this.track)}static getClass(){return".state-fadein"}static getEvents(){return["click"]}},fadeout:class{constructor(e){this.track=e}setup(e,t){this.samplesPerPixel=e,this.sampleRate=t}click(e){const t=e.offsetX,o=D(t,this.samplesPerPixel,this.sampleRate);o>this.track.getStartTime()&&o<this.track.getEndTime()&&this.track.ee.emit("fadeout",this.track.getEndTime()-o,this.track)}static getClass(){return".state-fadeout"}static getEvents(){return["click"]}}};class nt{constructor(t,o,h,y,S,E,V,Y){this.peaks=t,this.offset=o,this.color=y,this.bits=h,this.scale=S,this.height=E,this.barWidth=V,this.barGap=Y}static drawFrame(t,o,h,y,S,E,V){const Y=Math.abs(y*o),re=Math.abs(S*o);t.fillRect(h,0,E,o-re),t.fillRect(h,o+Y,E,o-Y),V!==0&&t.fillRect(h+E,0,V,o*2)}hook(t,o,h){if(h!==void 0&&h.peaks===this.peaks&&h.scale===this.scale&&h.height===this.height)return;const y=this.scale,S=t.width/y,E=t.getContext("2d"),V=t.height/y/2,Y=2**(this.bits-1),re=this.barWidth,se=this.barGap,ce=re+se;E.clearRect(0,0,t.width,t.height),E.save(),E.fillStyle=this.color,E.scale(y,y);for(let oe=0;oe<S;oe+=ce){const ee=this.peaks[(oe+this.offset)*2]/Y,de=this.peaks[(oe+this.offset)*2+1]/Y;nt.drawFrame(E,V,oe,ee,de,re,se)}E.restore()}}const Ye=nt;var qe=c(6226);class Ve{constructor(t,o,h,y){this.type=t,this.shape=o,this.duration=h,this.samplesPerPixel=y}static createCurve(t,o,h){let y,S;switch(o){case _e.Y1:{y=1;break}case _e.h7:{y=-1;break}default:throw new Error("Unsupported fade type.")}switch(t){case _e._h:{S=(0,qe.sCurve)(h,y);break}case _e.t$:{S=(0,qe.linear)(h,y);break}case _e.Jl:{S=(0,qe.exponential)(h,y);break}case _e.Hp:{S=(0,qe.logarithmic)(h,10,y);break}default:throw new Error("Unsupported fade shape")}return S}hook(t,o,h){if(h!==void 0&&h.shape===this.shape&&h.type===this.type&&h.duration===this.duration&&h.samplesPerPixel===this.samplesPerPixel)return;const y=t.getContext("2d"),S=t.width,E=t.height,V=Ve.createCurve(this.shape,this.type,S),Y=V.length;let re=E-V[0]*E;y.clearRect(0,0,t.width,t.height),y.save(),y.strokeStyle="black",y.beginPath(),y.moveTo(0,re);for(let se=1;se<Y;se+=1)re=E-V[se]*E,y.lineTo(se,re);y.stroke(),y.restore()}}const Me=Ve,ht=class{constructor(e){this.gain=e}hook(e){e.value=this.gain*100,e.title=`${Math.round(this.gain*100)}% volume`}},dt=class{constructor(e){this.stereoPan=e}hook(e){e.value=this.stereoPan*100;let t;this.stereoPan===0?t="Center":this.stereoPan<0?t="Left":t="Right";const o=`${Math.abs(Math.round(this.stereoPan*100))}% `;e.title=`Pan: ${this.stereoPan!==0?o:""}${t}`}},ft=1e3,pt=class{constructor(){this.name="Untitled",this.customClass=void 0,this.waveOutlineColor=void 0,this.gain=1,this.fades={},this.peakData={type:"WebAudio",mono:!1},this.cueIn=0,this.cueOut=0,this.duration=0,this.startTime=0,this.endTime=0,this.stereoPan=0}setEventEmitter(e){this.ee=e}setName(e){this.name=e}setCustomClass(e){this.customClass=e}setWaveOutlineColor(e){this.waveOutlineColor=e}setCues(e,t){if(t<e)throw new Error("cue out cannot be less than cue in");this.cueIn=e,this.cueOut=t,this.duration=this.cueOut-this.cueIn,this.endTime=this.startTime+this.duration}trim(e,t){const o=this.getStartTime(),h=this.getEndTime(),y=this.cueIn-o;if(o<=e&&h>=e||o<=t&&h>=t){const S=e<o?o:e,E=t>h?h:t;this.setCues(S+y,E+y),e>o&&this.setStartTime(e)}}setStartTime(e){this.startTime=e,this.endTime=e+this.duration}setPlayout(e){this.playout=e}setOfflinePlayout(e){this.offlinePlayout=e}setEnabledStates(e={}){const t={cursor:!0,fadein:!0,fadeout:!0,select:!0,shift:!0};this.enabledStates=Z()({},t,e)}setFadeIn(e,t="logarithmic"){if(e>this.duration)throw new Error("Invalid Fade In");const o={shape:t,start:0,end:e};this.fadeIn&&(this.removeFade(this.fadeIn),this.fadeIn=void 0),this.fadeIn=this.saveFade(_e.Y1,o.shape,o.start,o.end)}setFadeOut(e,t="logarithmic"){if(e>this.duration)throw new Error("Invalid Fade Out");const o={shape:t,start:this.duration-e,end:this.duration};this.fadeOut&&(this.removeFade(this.fadeOut),this.fadeOut=void 0),this.fadeOut=this.saveFade(_e.h7,o.shape,o.start,o.end)}saveFade(e,t,o,h){const y=Pe();return this.fades[y]={type:e,shape:t,start:o,end:h},y}removeFade(e){delete this.fades[e]}setBuffer(e){this.buffer=e}setPeakData(e){this.peakData=e}calculatePeaks(e,t){const o=j(this.cueIn,t),h=j(this.cueOut,t);this.setPeaks(Fe()(this.buffer,e,this.peakData.mono,o,h))}setPeaks(e){this.peaks=e}setState(e){if(this.state=e,this.state&&this.enabledStates[this.state]){const t=ut[this.state];this.stateObj=new t(this)}else this.stateObj=void 0}getStartTime(){return this.startTime}getEndTime(){return this.endTime}getDuration(){return this.duration}isPlaying(){return this.playout.isPlaying()}setShouldPlay(e){this.playout.setShouldPlay(e)}setGainLevel(e){this.gain=e,this.playout.setVolumeGainLevel(e)}setMasterGainLevel(e){this.playout.setMasterGainLevel(e)}setStereoPanValue(e){this.stereoPan=e,this.playout.setStereoPanValue(e)}setEffects(e){this.effectsGraph=e,this.playout.setEffects(e)}schedulePlay(e,t,o,h){let y,S,E=e,V=o?o-t:void 0;const Y={shouldPlay:!0,masterGain:1,isOffline:!1},re=Z()({},Y,h),se=re.isOffline?this.offlinePlayout:this.playout;if(this.endTime<=t||V&&t+V<this.startTime)return Promise.resolve();this.startTime>=t?(y=0,E+=this.startTime-t,o?(V-=this.startTime-t,S=Math.min(V,this.duration)):S=this.duration):(y=t-this.startTime,o?S=Math.min(V,this.duration-y):S=this.duration-y),y+=this.cueIn;const ce=t-this.startTime,oe=se.setUpSource();return je()(this.fades,ee=>{let de,ue;if(ce<ee.end)switch(ce<=ee.start?(de=e+(ee.start-ce),ue=ee.end-ee.start):ce>ee.start&&ce<ee.end&&(de=e-(ce-ee.start),ue=ee.end-ee.start),ee.type){case _e.Y1:{se.applyFadeIn(de,ue,ee.shape);break}case _e.h7:{se.applyFadeOut(de,ue,ee.shape);break}default:throw new Error("Invalid fade type saved on track.")}}),se.setVolumeGainLevel(this.gain),se.setShouldPlay(re.shouldPlay),se.setMasterGainLevel(re.masterGain),se.setStereoPanValue(this.stereoPan),se.play(E,y,S),oe}scheduleStop(e=0){this.playout.stop(e)}renderOverlay(e){const o={attributes:{style:`position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: ${N(e.playlistLength,e.resolution,e.sampleRate)}px; z-index: 9;`}};let h="";if(this.stateObj){this.stateObj.setup(e.resolution,e.sampleRate);const y=ut[this.state];y.getEvents().forEach(E=>{o[`on${E}`]=this.stateObj[E].bind(this.stateObj)}),h=y.getClass()}return b()(`div.playlist-overlay${h}`,o)}renderControls(e){const t=e.muted?".active":"",o=e.soloed?".active":"",h=e.collapsed,y=this.peaks.data.length,S=e.controls.widgets,E=b()("button.btn.btn-danger.btn-xs.track-remove",{attributes:{type:"button",title:"Remove track"},onclick:()=>{this.ee.emit("removeTrack",this)}},[b()("i.fas.fa-times")]),V=b()("span",[this.name]),Y=b()("button.btn.btn-info.btn-xs.track-collapse",{attributes:{type:"button",title:h?"Expand track":"Collapse track"},onclick:()=>{this.ee.emit("changeTrackView",this,{collapsed:!h})}},[b()(`i.fas.${h?"fa-caret-down":"fa-caret-up"}`)]),re=[];S.remove&&re.push(E),re.push(V),S.collapse&&re.push(Y);const se=[b()("div.track-header",re)];return h||(S.muteOrSolo&&se.push(b()("div.btn-group",[b()(`button.btn.btn-outline-dark.btn-xs.btn-mute${t}`,{attributes:{type:"button"},onclick:()=>{this.ee.emit("mute",this)}},["Mute"]),b()(`button.btn.btn-outline-dark.btn-xs.btn-solo${o}`,{onclick:()=>{this.ee.emit("solo",this)}},["Solo"])])),S.volume&&se.push(b()("label.volume",[b()("input.volume-slider",{attributes:{"aria-label":"Track volume control",type:"range",min:0,max:100,value:100},hook:new ht(this.gain),oninput:ce=>{this.ee.emit("volumechange",ce.target.value,this)}})])),S.stereoPan&&se.push(b()("label.stereopan",[b()("input.stereopan-slider",{attributes:{"aria-label":"Track stereo pan control",type:"range",min:-100,max:100,value:100},hook:new dt(this.stereoPan),oninput:ce=>{this.ee.emit("stereopan",ce.target.value/100,this)}})]))),b()("div.controls",{attributes:{style:`height: ${y*e.height}px; width: ${e.controls.width}px; position: absolute; left: 0; z-index: 10;`}},se)}render(e){const t=this.peaks.length,o=N(e.playbackSeconds,e.resolution,e.sampleRate),h=N(this.startTime,e.resolution,e.sampleRate),y=N(this.endTime,e.resolution,e.sampleRate);let S=0;const E=this.peaks.data.length,V=Math.ceil(window.devicePixelRatio);o>0&&o>h&&(o<y?S=o-h:S=t);const Y=[b()("div.cursor",{attributes:{style:`position: absolute; width: 1px; margin: 0; padding: 0; top: 0; left: ${o}px; bottom: 0; z-index: 5;`}})],re=Object.keys(this.peaks.data).map(ue=>{const te=[b()("div.channel-progress",{attributes:{style:`position: absolute; width: ${S}px; height: ${e.height}px; z-index: 2;`}})];let be=0,ke=t;const st=this.peaks.data[ue];for(;ke>0;){const Re=Math.min(ke,ft),De=this.waveOutlineColor?this.waveOutlineColor:e.colors.waveOutlineColor;te.push(b()("canvas",{attributes:{width:Re*V,height:e.height*V,style:`float: left; position: relative; margin: 0; padding: 0; z-index: 3; width: ${Re}px; height: ${e.height}px;`},hook:new Ye(st,be,this.peaks.bits,De,V,e.height,e.barWidth,e.barGap)})),ke-=Re,be+=ft}if(this.fadeIn){const Re=this.fades[this.fadeIn],De=N(Re.end-Re.start,e.resolution,e.sampleRate);te.push(b()("div.wp-fade.wp-fadein",{attributes:{style:`position: absolute; height: ${e.height}px; width: ${De}px; top: 0; left: 0; z-index: 4;`}},[b()("canvas",{attributes:{width:De,height:e.height},hook:new Me(Re.type,Re.shape,Re.end-Re.start,e.resolution)})]))}if(this.fadeOut){const Re=this.fades[this.fadeOut],De=N(Re.end-Re.start,e.resolution,e.sampleRate);te.push(b()("div.wp-fade.wp-fadeout",{attributes:{style:`position: absolute; height: ${e.height}px; width: ${De}px; top: 0; right: 0; z-index: 4;`}},[b()("canvas",{attributes:{width:De,height:e.height},hook:new Me(Re.type,Re.shape,Re.end-Re.start,e.resolution)})]))}return b()(`div.channel.channel-${ue}`,{attributes:{style:`height: ${e.height}px; width: ${t}px; top: ${ue*e.height}px; left: ${h}px; position: absolute; margin: 0; padding: 0; z-index: 1;`}},te)});if(Y.push(re),Y.push(this.renderOverlay(e)),e.isActive===!0){const ue=N(e.timeSelection.start,e.resolution,e.sampleRate),be=N(e.timeSelection.end,e.resolution,e.sampleRate)-ue+1,ke=be>1?".segment":".point";Y.push(b()(`div.selection${ke}`,{attributes:{style:`position: absolute; width: ${be}px; bottom: 0; top: 0; left: ${ue}px; z-index: 4;`}}))}const se=b()("div.waveform",{attributes:{style:`height: ${E*e.height}px; position: relative;`}},Y),ce=[];let oe=0;e.controls.show&&(ce.push(this.renderControls(e)),oe=e.controls.width),ce.push(se);const ee=e.shouldPlay?"":".silent",de=this.customClass===void 0?"":`.${this.customClass}`;return b()(`div.channel-wrapper${ee}${de}`,{attributes:{style:`margin-left: ${oe}px; height: ${e.height*E}px;`}},ce)}getTrackDetails(){const e={src:this.src,start:this.startTime,end:this.endTime,name:this.name,customClass:this.customClass,cuein:this.cueIn,cueout:this.cueOut,stereoPan:this.stereoPan,gain:this.gain,effects:this.effectsGraph};if(this.fadeIn){const t=this.fades[this.fadeIn];e.fadeIn={shape:t.shape,duration:t.end-t.start}}if(this.fadeOut){const t=this.fades[this.fadeOut];e.fadeOut={shape:t.shape,duration:t.end-t.start}}return e}};function Ge(e,t){e.connect(t)}const Ze=class{constructor(e,t,o=e.createGain()){this.ac=e,this.gain=1,this.effectsGraph=Ge,this.masterEffectsGraph=Ge,this.buffer=t,this.masterGain=o,this.destination=this.ac.destination}applyFade(e,t,o,h="logarithmic"){if(e===_e.Y1)(0,_e.L7)(this.fadeGain.gain,h,t,o);else if(e===_e.h7)(0,_e.Mt)(this.fadeGain.gain,h,t,o);else throw new Error("Unsupported fade type")}applyFadeIn(e,t,o="logarithmic"){this.applyFade(_e.Y1,e,t,o)}applyFadeOut(e,t,o="logarithmic"){this.applyFade(_e.h7,e,t,o)}isPlaying(){return this.source!==void 0}getDuration(){return this.buffer.duration}setAudioContext(e){this.ac=e,this.destination=this.ac.destination}createStereoPanner(){return this.ac.createStereoPanner?this.ac.createStereoPanner():this.ac.createPanner()}setUpSource(){this.source=this.ac.createBufferSource(),this.source.buffer=this.buffer;let e,t;const o=new Promise(h=>{this.source.onended=()=>{this.source.disconnect(),this.fadeGain.disconnect(),this.volumeGain.disconnect(),this.shouldPlayGain.disconnect(),this.panner.disconnect(),e&&e(),t&&t(),this.source=void 0,this.fadeGain=void 0,this.volumeGain=void 0,this.shouldPlayGain=void 0,this.panner=void 0,h()}});return this.fadeGain=this.ac.createGain(),this.volumeGain=this.ac.createGain(),this.shouldPlayGain=this.ac.createGain(),this.panner=this.createStereoPanner(),this.source.connect(this.fadeGain),this.fadeGain.connect(this.volumeGain),this.volumeGain.connect(this.shouldPlayGain),this.shouldPlayGain.connect(this.panner),e=this.effectsGraph(this.panner,this.masterGain,this.ac instanceof OfflineAudioContext),t=this.masterEffectsGraph(this.masterGain,this.destination,this.ac instanceof OfflineAudioContext),o}setVolumeGainLevel(e){this.volumeGain&&(this.volumeGain.gain.value=e)}setShouldPlay(e){this.shouldPlayGain&&(this.shouldPlayGain.gain.value=e?1:0)}setMasterGainLevel(e){this.masterGain&&(this.masterGain.gain.value=e)}setStereoPanValue(e=0){this.panner&&(this.panner.pan!==void 0?this.panner.pan.value=e:(this.panner.panningModel="equalpower",this.panner.setPosition(e,0,1-Math.abs(e))))}setEffects(e=Ge){this.effectsGraph=e}setMasterEffects(e=Ge){this.masterEffectsGraph=e}play(e,t,o){this.source.start(e,t,o)}stop(e=0){this.source&&this.source.stop(e)}};function mt(e){return{id:e.id||Pe(),start:Number(e.begin)||0,end:Number(e.end)||0,lines:e.lines||[""],lang:e.language||"en"}}function vt(e){return{begin:String(e.start.toFixed(3)),end:String(e.end.toFixed(3)),id:String(e.id),language:e.lang,lines:e.lines}}const Ke=class{constructor(e,t={}){this.playlist=e,this.data=t,this.active=!1,this.ondragover=o=>{this.active&&(o.preventDefault(),this.emitDrag(o.clientX))}}emitDrag(e){const t=e-this.prevX;if(t){const o=D(t,this.playlist.samplesPerPixel,this.playlist.sampleRate);this.prevX=e,this.playlist.ee.emit("dragged",o,this.data)}}complete(){this.active=!1,document.removeEventListener("dragover",this.ondragover)}dragstart(e){const t=e;this.active=!0,this.prevX=e.clientX,t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",""),document.addEventListener("dragover",this.ondragover)}dragend(e){this.active&&(e.preventDefault(),this.complete())}static getClass(){return".shift"}static getEvents(){return["dragstart","dragend"]}},gt=function(){};gt.prototype.hook=function(t){const o=t.querySelector(".current");if(o){const h=t.getBoundingClientRect(),S=o.getBoundingClientRect().top-h.top,E=t;E.scrollTop+=S}};const jt=gt;function We(e){function t(h,y){const S=parseInt(h/3600,10)%24,E=parseInt(h/60,10)%60,V=(h%60).toFixed(y),Y=S<10?`0${S}`:S,re=E<10?`0${E}`:E,se=V<10?`0${V}`:V;return`${Y}:${re}:${se}`}return{seconds(h){return h.toFixed(0)},thousandths(h){return h.toFixed(3)},"hh:mm:ss":function(y){return t(y,0)},"hh:mm:ss.u":function(y){return t(y,1)},"hh:mm:ss.uu":function(y){return t(y,2)},"hh:mm:ss.uuu":function(y){return t(y,3)}}[e]}class et{constructor(t,o,h=[],y=!1,S=!1,E=!1,V=0){this.playlist=t,this.marginLeft=V,this.resizeHandlers=[],this.editable=y,this.annotations=o.map(Y=>mt(Y)),this.setupInteractions(),this.controls=h,this.setupEE(t.ee),this.playlist.isContinuousPlay=E,this.playlist.linkEndpoints=S,this.length=this.annotations.length}setupInteractions(){this.annotations.forEach((t,o)=>{const h=new Ke(this.playlist,{direction:"left",index:o}),y=new Ke(this.playlist,{direction:"right",index:o});this.resizeHandlers.push(h),this.resizeHandlers.push(y)})}setupEE(t){return t.on("dragged",(o,h)=>{const y=h.index,S=this.annotations,E=S[y];if(h.direction==="left"){const V=E.start;E.start+=o,E.start<0&&(E.start=0),y&&S[y-1].end>E.start&&(S[y-1].end=E.start),this.playlist.linkEndpoints&&y&&S[y-1].end===V&&(S[y-1].end=E.start)}else{const V=E.end;E.end+=o,E.end>this.playlist.duration&&(E.end=this.playlist.duration),y<S.length-1&&S[y+1].start<E.end&&(S[y+1].start=E.end),this.playlist.linkEndpoints&&y<S.length-1&&S[y+1].start===V&&(S[y+1].start=E.end)}this.playlist.drawRequest()}),t.on("continuousplay",o=>{this.playlist.isContinuousPlay=o}),t.on("linkendpoints",o=>{this.playlist.linkEndpoints=o}),t.on("annotationsrequest",()=>{this.export()}),t}export(){const t=this.annotations.map(y=>vt(y)),o=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(t))}`,h=document.createElement("a");document.body.appendChild(h),h.href=o,h.download="annotations.json",h.click(),document.body.removeChild(h)}renderResizeLeft(t){const o=Ke.getEvents(),h={attributes:{style:"position: absolute; height: 30px; width: 10px; top: 0; left: -2px",draggable:!0}},y=this.resizeHandlers[t*2];return o.forEach(S=>{h[`on${S}`]=y[S].bind(y)}),b()("div.resize-handle.resize-w",h)}renderResizeRight(t){const o=Ke.getEvents(),h={attributes:{style:"position: absolute; height: 30px; width: 10px; top: 0; right: -2px",draggable:!0}},y=this.resizeHandlers[t*2+1];return o.forEach(S=>{h[`on${S}`]=y[S].bind(y)}),b()("div.resize-handle.resize-e",h)}renderControls(t,o){const h=this;return this.controls.map(y=>b()(`i.${y.class}`,{attributes:{title:y.title},onclick:()=>{y.action(t,o,h.annotations,{linkEndpoints:h.playlist.linkEndpoints}),this.setupInteractions(),h.playlist.drawRequest()}}))}render(){const t=b()("div.annotations-boxes",{attributes:{style:`height: 30px; position: relative; margin-left: ${this.marginLeft}px;`}},this.annotations.map((y,S)=>{const E=this.playlist.samplesPerPixel,V=this.playlist.sampleRate,Y=V/E,re=N(this.playlist.scrollLeft,E,V),se=Math.floor(y.start*Y-re),ce=Math.ceil(y.end*Y-y.start*Y);return b()("div.annotation-box",{attributes:{style:`position: absolute; height: 30px; width: ${ce}px; left: ${se}px`,"data-id":y.id}},[this.renderResizeLeft(S),b()("span.id",{onclick:()=>{const oe=this.annotations[S].start,ee=this.annotations[S].end;this.playlist.isContinuousPlay?(this.playlist.seek(oe,oe),this.playlist.ee.emit("play",oe)):(this.playlist.seek(oe,ee),this.playlist.ee.emit("play",oe,ee))}},[y.id]),this.renderResizeRight(S)])})),o=b()("div.annotations-boxes-wrapper",{attributes:{style:"overflow: hidden;"}},[t]),h=b()("div.annotations-text",{hook:new jt},this.annotations.map((y,S)=>{const E=We(this.playlist.durationFormat),V=E(y.start),Y=E(y.end);let re="";this.playlist.isPlaying()&&this.playlist.playbackSeconds>=y.start&&this.playlist.playbackSeconds<=y.end&&(re=".current");const se={attributes:{contenteditable:!0},oninput:oe=>{y.lines=[oe.target.innerText]},onkeypress:oe=>{(oe.which===13||oe.keyCode===13)&&(oe.target.blur(),oe.preventDefault())}},ce=this.editable?se:{};return b()(`div.annotation${re}`,[b()("span.annotation-id",[y.id]),b()("span.annotation-start",[V]),b()("span.annotation-end",[Y]),b()("span.annotation-lines",ce,[y.lines]),b()("span.annotation-actions",this.renderControls(y,S))])}));return b()("div.annotations",[o,h])}}const At=et;function yt(){function e(y){let S=1/0,E=-1/0,V;for(let Y=0;Y<y.length;Y+=1)V=y[Y],S>V&&(S=V),E<V&&(E=V);return{min:S,max:E}}function t(y,S){const E=2**(S-1),V=y<0?y*E:y*E-1;return Math.max(-E,Math.min(E-1,V))}function o(y,S,E){const V=y.length,Y=Math.ceil(V/S);let re,se,ce,oe,ee,de;const ue=new self[`Int${E}Array`](Y*2);for(let te=0;te<Y;te+=1)re=te*S,se=(te+1)*S>V?V:(te+1)*S,ce=y.subarray(re,se),de=e(ce),ee=t(de.min,E),oe=t(de.max,E),ue[te*2]=ee,ue[te*2+1]=oe;return ue}function h(y,S=1e4,E=8){if([8,16,32].indexOf(E)<0)throw new Error("Invalid number of bits specified for peaks.");const V=[],Y=0,re=y.length;V.push(o(y.subarray(Y,re),S,E));const se=V[0].length/2;return{bits:E,length:se,data:V}}onmessage=function(S){const E=h(S.data.samples,S.data.samplesPerPixel);postMessage(E)}}function It(){let e=0,t=[],o=[],h;function y(ee){h=ee.sampleRate}function S(ee){t.push(ee[0]),o.push(ee[1]),e+=ee[0].length}function E(ee,de,ue){for(let te=0;te<ue.length;te+=1)ee.setUint8(de+te,ue.charCodeAt(te))}function V(ee,de,ue){let te=de;for(let be=0;be<ue.length;be+=1,te+=2){const ke=Math.max(-1,Math.min(1,ue[be]));ee.setInt16(te,ke<0?ke*32768:ke*32767,!0)}}function Y(ee,de=!1){const ue=new ArrayBuffer(44+ee.length*2),te=new DataView(ue);return E(te,0,"RIFF"),te.setUint32(4,32+ee.length*2,!0),E(te,8,"WAVE"),E(te,12,"fmt "),te.setUint32(16,16,!0),te.setUint16(20,1,!0),te.setUint16(22,de?1:2,!0),te.setUint32(24,h,!0),te.setUint32(28,h*4,!0),te.setUint16(32,4,!0),te.setUint16(34,16,!0),E(te,36,"data"),te.setUint32(40,ee.length*2,!0),V(te,44,ee),te}function re(ee,de){const ue=new Float32Array(de);let te=0;for(let be=0;be<ee.length;be+=1)ue.set(ee[be],te),te+=ee[be].length;return ue}function se(ee,de){const ue=ee.length+de.length,te=new Float32Array(ue);let be=0,ke=0;for(;be<ue;)te[be+=1]=ee[ke],te[be+=1]=de[ke],ke+=1;return te}function ce(ee){const de=re(t,e),ue=re(o,e),te=se(de,ue),be=Y(te),ke=new Blob([be],{type:ee});postMessage(ke)}function oe(){e=0,t=[],o=[]}onmessage=function(de){switch(de.data.command){case"init":{y(de.data.config);break}case"record":{S(de.data.buffer);break}case"exportWAV":{ce(de.data.type);break}case"clear":{oe();break}default:throw new Error("Unknown export worker command")}}}const bt=class{constructor(){this.tracks=[],this.soloedTracks=[],this.mutedTracks=[],this.collapsedTracks=[],this.playoutPromises=[],this.cursor=0,this.playbackSeconds=0,this.duration=0,this.scrollLeft=0,this.scrollTimer=void 0,this.showTimescale=!1,this.isScrolling=!1,this.fadeType="logarithmic",this.masterGain=1,this.annotations=[],this.durationFormat="hh:mm:ss.uuu",this.isAutomaticScroll=!1,this.resetDrawTimer=void 0}initExporter(){this.exportWorker=new(R())(It)}initRecorder(e){this.mediaRecorder=new MediaRecorder(e),this.mediaRecorder.onstart=()=>{const t=new pt;t.setName("Recording"),t.setEnabledStates(),t.setEventEmitter(this.ee),this.recordingTrack=t,this.tracks.push(t),this.chunks=[],this.working=!1},this.mediaRecorder.ondataavailable=t=>{if(this.chunks.push(t.data),!this.working){const o=new Blob(this.chunks,{type:"audio/ogg; codecs=opus"});z.createLoader(o,this.ac).load().then(y=>{this.recorderWorker.postMessage({samples:y.getChannelData(0),samplesPerPixel:this.samplesPerPixel}),this.recordingTrack.setCues(0,y.duration),this.recordingTrack.setBuffer(y),this.recordingTrack.setPlayout(new Ze(this.ac,y,this.masterGainNode)),this.adjustDuration()}).catch(()=>{this.working=!1}),this.working=!0}},this.mediaRecorder.onstop=()=>{this.chunks=[],this.working=!1},this.recorderWorker=new(R())(yt),this.recorderWorker.onmessage=t=>{this.recordingTrack.setPeaks(t.data),this.working=!1,this.drawRequest()}}setShowTimeScale(e){this.showTimescale=e}setMono(e){this.mono=e}setExclSolo(e){this.exclSolo=e}setSeekStyle(e){this.seekStyle=e}getSeekStyle(){return this.seekStyle}setSampleRate(e){this.sampleRate=e}setSamplesPerPixel(e){this.samplesPerPixel=e}setAudioContext(e){this.ac=e,this.masterGainNode=e.createGain()}getAudioContext(){return this.ac}setControlOptions(e){this.controls=e}setWaveHeight(e){this.waveHeight=e}setCollapsedWaveHeight(e){this.collapsedWaveHeight=e}setColors(e){this.colors=e}setBarWidth(e){this.barWidth=e}setBarGap(e){this.barGap=e}setAnnotations(e){const t=this.controls.show?this.controls.width:0;this.annotationList=new At(this,e.annotations,e.controls,e.editable,e.linkEndpoints,e.isContinuousPlay,t)}setEffects(e){this.effectsGraph=e}setEventEmitter(e){this.ee=e}getEventEmitter(){return this.ee}setUpEventEmitter(){const e=this.ee;e.on("automaticscroll",t=>{this.isAutomaticScroll=t}),e.on("durationformat",t=>{this.durationFormat=t,this.drawRequest()}),e.on("select",(t,o,h)=>{this.isPlaying()?(this.lastSeeked=t,this.pausedAt=void 0,this.restartPlayFrom(t)):(this.seek(t,o,h),this.ee.emit("timeupdate",t),this.drawRequest())}),e.on("startaudiorendering",t=>{this.startOfflineRender(t)}),e.on("statechange",t=>{this.setState(t),this.drawRequest()}),e.on("shift",(t,o)=>{o.setStartTime(o.getStartTime()+t),this.adjustDuration(),this.drawRequest()}),e.on("record",()=>{this.record()}),e.on("play",(t,o)=>{this.play(t,o)}),e.on("pause",()=>{this.pause()}),e.on("stop",()=>{this.stop()}),e.on("rewind",()=>{this.rewind()}),e.on("fastforward",()=>{this.fastForward()}),e.on("clear",()=>{this.clear().then(()=>{this.drawRequest()})}),e.on("solo",t=>{this.soloTrack(t),this.adjustTrackPlayout(),this.drawRequest()}),e.on("mute",t=>{this.muteTrack(t),this.adjustTrackPlayout(),this.drawRequest()}),e.on("removeTrack",t=>{this.removeTrack(t),this.adjustTrackPlayout(),this.drawRequest()}),e.on("changeTrackView",(t,o)=>{this.collapseTrack(t,o),this.drawRequest()}),e.on("volumechange",(t,o)=>{o.setGainLevel(t/100),this.drawRequest()}),e.on("mastervolumechange",t=>{this.masterGain=t/100,this.tracks.forEach(o=>{o.setMasterGainLevel(this.masterGain)})}),e.on("fadein",(t,o)=>{o.setFadeIn(t,this.fadeType),this.drawRequest()}),e.on("fadeout",(t,o)=>{o.setFadeOut(t,this.fadeType),this.drawRequest()}),e.on("stereopan",(t,o)=>{o.setStereoPanValue(t),this.drawRequest()}),e.on("fadetype",t=>{this.fadeType=t}),e.on("newtrack",t=>{this.load([{src:t,name:t.name}])}),e.on("trim",()=>{const t=this.getActiveTrack(),o=this.getTimeSelection();t.trim(o.start,o.end),t.calculatePeaks(this.samplesPerPixel,this.sampleRate),this.setTimeSelection(0,0),this.drawRequest()}),e.on("zoomin",()=>{const t=Math.max(0,this.zoomIndex-1),o=this.zoomLevels[t];o!==this.samplesPerPixel&&(this.setZoom(o),this.drawRequest())}),e.on("zoomout",()=>{const t=Math.min(this.zoomLevels.length-1,this.zoomIndex+1),o=this.zoomLevels[t];o!==this.samplesPerPixel&&(this.setZoom(o),this.drawRequest())}),e.on("scroll",()=>{this.isScrolling=!0,this.drawRequest(),clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScrolling=!1},200)})}load(e){const t=e.map(o=>z.createLoader(o.src,this.ac,this.ee).load().then(y=>y.sampleRate===this.sampleRate?y:W(y,this.sampleRate)));return Promise.all(t).then(o=>{this.ee.emit("audiosourcesloaded");const h=o.map((y,S)=>{const E=e[S],V=E.name||"Untitled",Y=E.start||0,re=E.states||{},se=E.fadeIn,ce=E.fadeOut,oe=E.cuein||0,ee=E.cueout||y.duration,de=E.gain||1,ue=E.muted||!1,te=E.soloed||!1,be=E.selected,ke=E.peaks||{type:"WebAudio",mono:this.mono},st=E.customClass||void 0,Re=E.waveOutlineColor||void 0,De=E.stereoPan||0,xt=E.effects||null,Nt=new Ze(this.ac,y,this.masterGainNode),Se=new pt;return Se.src=E.src,Se.setBuffer(y),Se.setName(V),Se.setEventEmitter(this.ee),Se.setEnabledStates(re),Se.setCues(oe,ee),Se.setCustomClass(st),Se.setWaveOutlineColor(Re),se!==void 0&&Se.setFadeIn(se.duration,se.shape),ce!==void 0&&Se.setFadeOut(ce.duration,ce.shape),be!==void 0&&(this.setActiveTrack(Se),this.setTimeSelection(be.start,be.end)),ke!==void 0&&Se.setPeakData(ke),Se.setState(this.getState()),Se.setStartTime(Y),Se.setPlayout(Nt),Se.setGainLevel(de),Se.setStereoPanValue(De),xt&&Se.setEffects(xt),ue&&this.muteTrack(Se),te&&this.soloTrack(Se),Se.calculatePeaks(this.samplesPerPixel,this.sampleRate),Se});this.tracks=this.tracks.concat(h),this.adjustDuration(),this.draw(this.render()),this.ee.emit("audiosourcesrendered")}).catch(o=>{this.ee.emit("audiosourceserror",o)})}setActiveTrack(e){this.activeTrack=e}getActiveTrack(){return this.activeTrack}isSegmentSelection(){return this.timeSelection.start!==this.timeSelection.end}setTimeSelection(e=0,t){this.timeSelection={start:e,end:t===void 0?e:t},this.cursor=e}async startOfflineRender(e){if(this.isRendering)return;this.isRendering=!0,this.offlineAudioContext=new OfflineAudioContext(2,44100*this.duration,44100);const t=[];this.ee.emit("audiorenderingstarting",this.offlineAudioContext,t);const o=this.offlineAudioContext.currentTime,h=this.offlineAudioContext.createGain();this.tracks.forEach(S=>{const E=new Ze(this.offlineAudioContext,S.buffer,h);E.setEffects(S.effectsGraph),E.setMasterEffects(this.effectsGraph),S.setOfflinePlayout(E),S.schedulePlay(o,0,0,{shouldPlay:this.shouldTrackPlay(S),masterGain:1,isOffline:!0})}),await Promise.all(t);const y=await this.offlineAudioContext.startRendering();e==="buffer"?(this.ee.emit("audiorenderingfinished",e,y),this.isRendering=!1):e==="wav"&&(this.exportWorker.postMessage({command:"init",config:{sampleRate:44100}}),this.exportWorker.onmessage=S=>{this.ee.emit("audiorenderingfinished",e,S.data),this.isRendering=!1,this.exportWorker.postMessage({command:"clear"})},this.exportWorker.postMessage({command:"record",buffer:[y.getChannelData(0),y.getChannelData(1)]}),this.exportWorker.postMessage({command:"exportWAV",type:"audio/wav"}))}getTimeSelection(){return this.timeSelection}setState(e){this.state=e,this.tracks.forEach(t=>{t.setState(e)})}getState(){return this.state}setZoomIndex(e){this.zoomIndex=e}setZoomLevels(e){this.zoomLevels=e}setZoom(e){this.samplesPerPixel=e,this.zoomIndex=this.zoomLevels.indexOf(e),this.tracks.forEach(t=>{t.calculatePeaks(e,this.sampleRate)})}muteTrack(e){const t=this.mutedTracks.indexOf(e);t>-1?this.mutedTracks.splice(t,1):this.mutedTracks.push(e)}soloTrack(e){const t=this.soloedTracks.indexOf(e);t>-1?this.soloedTracks.splice(t,1):this.exclSolo?this.soloedTracks=[e]:this.soloedTracks.push(e)}collapseTrack(e,t){if(t.collapsed)this.collapsedTracks.push(e);else{const o=this.collapsedTracks.indexOf(e);o>-1&&this.collapsedTracks.splice(o,1)}}removeTrack(e){e.isPlaying()&&e.scheduleStop(),[this.mutedTracks,this.soloedTracks,this.collapsedTracks,this.tracks].forEach(o=>{const h=o.indexOf(e);h>-1&&o.splice(h,1)})}adjustTrackPlayout(){this.tracks.forEach(e=>{e.setShouldPlay(this.shouldTrackPlay(e))})}adjustDuration(){this.duration=this.tracks.reduce((e,t)=>Math.max(e,t.getEndTime()),0)}shouldTrackPlay(e){let t;return this.soloedTracks.length>0?(t=!1,this.soloedTracks.indexOf(e)>-1&&(t=!0)):(t=!0,this.mutedTracks.indexOf(e)>-1&&(t=!1)),t}isPlaying(){return this.tracks.reduce((e,t)=>e||t.isPlaying(),!1)}getCurrentTime(){return(this.lastSeeked||this.pausedAt||this.cursor)+this.getElapsedTime()}getElapsedTime(){return this.ac.currentTime-this.lastPlay}setMasterGain(e){this.ee.emit("mastervolumechange",e)}restartPlayFrom(e,t){return this.stopAnimation(),this.tracks.forEach(o=>{o.scheduleStop()}),Promise.all(this.playoutPromises).then(this.play.bind(this,e,t))}play(e,t){clearTimeout(this.resetDrawTimer);const o=this.ac.currentTime,h=this.getTimeSelection(),y=[],S=e||this.pausedAt||this.cursor;let E=t;return!E&&h.end!==h.start&&h.end>S&&(E=h.end),this.isPlaying()?this.restartPlayFrom(S,E):(this.effectsGraph&&this.tracks&&this.tracks[0].playout.setMasterEffects(this.effectsGraph),this.tracks.forEach(V=>{V.setState("cursor"),y.push(V.schedulePlay(o,S,E,{shouldPlay:this.shouldTrackPlay(V),masterGain:this.masterGain}))}),this.lastPlay=o,this.playoutPromises=y,this.startAnimation(S),Promise.all(this.playoutPromises))}pause(){return this.isPlaying()?(this.pausedAt=this.getCurrentTime(),this.playbackReset()):Promise.all(this.playoutPromises)}stop(){return this.mediaRecorder&&this.mediaRecorder.state==="recording"&&this.mediaRecorder.stop(),this.pausedAt=void 0,this.playbackSeconds=0,this.playbackReset()}playbackReset(){return this.lastSeeked=void 0,this.stopAnimation(),this.tracks.forEach(e=>{e.scheduleStop(),e.setState(this.getState())}),this.masterGainNode.disconnect(),this.drawRequest(),Promise.all(this.playoutPromises)}rewind(){return this.stop().then(()=>{this.scrollLeft=0,this.ee.emit("select",0,0)})}fastForward(){return this.stop().then(()=>{this.viewDuration<this.duration?this.scrollLeft=this.duration-this.viewDuration:this.scrollLeft=0,this.ee.emit("select",this.duration,this.duration)})}clear(){return this.stop().then(()=>{this.tracks=[],this.soloedTracks=[],this.mutedTracks=[],this.playoutPromises=[],this.cursor=0,this.playbackSeconds=0,this.duration=0,this.scrollLeft=0,this.seek(0,0,void 0)})}record(){const e=[];this.mediaRecorder.start(300),this.tracks.forEach(t=>{t.setState("none"),e.push(t.schedulePlay(this.ac.currentTime,0,void 0,{shouldPlay:this.shouldTrackPlay(t)}))}),this.playoutPromises=e}startAnimation(e){this.lastDraw=this.ac.currentTime,this.animationRequest=window.requestAnimationFrame(()=>{this.updateEditor(e)})}stopAnimation(){window.cancelAnimationFrame(this.animationRequest),this.lastDraw=void 0}seek(e,t,o){this.isPlaying()?(this.lastSeeked=e,this.pausedAt=void 0,this.restartPlayFrom(e)):(this.setActiveTrack(o||this.tracks[0]),this.pausedAt=e,this.setTimeSelection(e,t),this.getSeekStyle()==="fill"&&(this.playbackSeconds=e))}updateEditor(e){const t=this.ac.currentTime,o=this.getTimeSelection(),h=e||this.cursor,y=t-this.lastDraw;if(this.isPlaying()){const S=h+y;this.ee.emit("timeupdate",S),this.animationRequest=window.requestAnimationFrame(()=>{this.updateEditor(S)}),this.playbackSeconds=S,this.draw(this.render()),this.lastDraw=t}else h+y>=(this.isSegmentSelection()?o.end:this.duration)&&this.ee.emit("finished"),this.stopAnimation(),this.resetDrawTimer=setTimeout(()=>{this.pausedAt=void 0,this.lastSeeked=void 0,this.setState(this.getState()),this.playbackSeconds=0,this.draw(this.render())},0)}drawRequest(){window.requestAnimationFrame(()=>{this.draw(this.render())})}draw(e){const t=l()(this.tree,e);this.rootNode=C()(this.rootNode,t),this.tree=e,this.viewDuration=D(this.rootNode.clientWidth-this.controls.width,this.samplesPerPixel,this.sampleRate)}getTrackRenderData(e={}){const t={height:this.waveHeight,resolution:this.samplesPerPixel,sampleRate:this.sampleRate,controls:this.controls,isActive:!1,timeSelection:this.getTimeSelection(),playlistLength:this.duration,playbackSeconds:this.playbackSeconds,colors:this.colors,barWidth:this.barWidth,barGap:this.barGap};return d()({},e,t)}isActiveTrack(e){const t=this.getActiveTrack();return this.isSegmentSelection()?t===e:!0}renderAnnotations(){return this.annotationList.render()}renderTimeScale(){const e=this.controls.show?this.controls.width:0;return new ge(this.duration,this.scrollLeft,this.samplesPerPixel,this.sampleRate,e,this.colors).render()}renderTrackSection(){const e=this.tracks.map(t=>{const o=this.collapsedTracks.indexOf(t)>-1;return t.render(this.getTrackRenderData({isActive:this.isActiveTrack(t),shouldPlay:this.shouldTrackPlay(t),soloed:this.soloedTracks.indexOf(t)>-1,muted:this.mutedTracks.indexOf(t)>-1,collapsed:o,height:o?this.collapsedWaveHeight:this.waveHeight,barGap:this.barGap,barWidth:this.barWidth}))});return b()("div.playlist-tracks",{attributes:{style:"overflow: auto;"},onscroll:t=>{this.scrollLeft=D(t.target.scrollLeft,this.samplesPerPixel,this.sampleRate),this.ee.emit("scroll")},hook:new ie(this)},e)}render(){const e=[];return this.showTimescale&&e.push(this.renderTimeScale()),e.push(this.renderTrackSection()),this.annotationList.length&&e.push(this.renderAnnotations()),b()("div.playlist",{attributes:{style:"overflow: hidden; position: relative;"}},e)}getInfo(){const e=[];return this.tracks.forEach(t=>{e.push(t.getTrackDetails())}),{tracks:e,effects:this.effectsGraph}}};function ze(e={},t=g()()){if(e.container===void 0)throw new Error("DOM element container must be given.");const o={samplesPerPixel:4096,mono:!0,fadeType:"logarithmic",exclSolo:!1,timescale:!1,controls:{show:!1,width:150,widgets:{muteOrSolo:!0,volume:!0,stereoPan:!0,collapse:!0,remove:!0}},colors:{waveOutlineColor:"white",timeColor:"grey",fadeColor:"black"},seekStyle:"line",waveHeight:128,collapsedWaveHeight:30,barWidth:1,barGap:0,state:"cursor",zoomLevels:[512,1024,2048,4096],annotationList:{annotations:[],controls:[],editable:!1,linkEndpoints:!1,isContinuousPlay:!1},isAutomaticScroll:!1},h=d()({},e,o),y=h.zoomLevels.indexOf(h.samplesPerPixel);if(y===-1)throw new Error("initial samplesPerPixel must be included in array zoomLevels");const S=new bt,E=h.ac||new AudioContext;S.setAudioContext(E),S.setSampleRate(h.sampleRate||E.sampleRate),S.setSamplesPerPixel(h.samplesPerPixel),S.setEventEmitter(t),S.setUpEventEmitter(),S.setTimeSelection(0,0),S.setState(h.state),S.setControlOptions(h.controls),S.setWaveHeight(h.waveHeight),S.setCollapsedWaveHeight(h.collapsedWaveHeight),S.setColors(h.colors),S.setZoomLevels(h.zoomLevels),S.setZoomIndex(y),S.setMono(h.mono),S.setExclSolo(h.exclSolo),S.setShowTimeScale(h.timescale),S.setSeekStyle(h.seekStyle),S.setAnnotations(h.annotationList),S.setBarGap(h.barGap),S.setBarWidth(h.barWidth),S.isAutomaticScroll=h.isAutomaticScroll,S.isContinuousPlay=h.isContinuousPlay,S.linkedEndpoints=h.linkedEndpoints,h.effects&&S.setEffects(h.effects);const V=S.render(),Y=x()(V);return h.container.appendChild(Y),S.tree=V,S.rootNode=Y,S}function Lt(e={},t=g()()){return ze(e,t)}})(),_})()})})(Bn);var Ha=Bn.exports;const Xa=Rn(Ha),tn=({slides:n=[],interval:i=5e3})=>n.length?O.jsx("div",{children:n.map((m,v)=>O.jsxs("div",{id:m.id,className:"carousel slide","data-bs-ride":"carousel",children:[O.jsx("ol",{className:"carousel-indicators",children:m.images.map((c,_)=>O.jsx("li",{"data-bs-target":`#${m.id}`,"data-bs-slide-to":_,className:_===0?"active":""},_))}),O.jsx("div",{className:"carousel-inner",children:m.images.map((c,_)=>O.jsxs("div",{className:`carousel-item ${_===0?"active":""}`,"data-bs-interval":i,children:[O.jsx("img",{src:c.image,className:"d-block w-100",alt:c.title}),O.jsxs("div",{className:"carousel-caption d-none d-md-block",children:[O.jsx("h5",{children:c.title}),O.jsx("p",{children:c.description})]})]},_))}),O.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-slide":"prev","data-bs-target":`#${m.id}`,children:[O.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),O.jsx("span",{className:"visually-hidden",children:"Previous"})]}),O.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-slide":"next","data-bs-target":`#${m.id}`,children:[O.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),O.jsx("span",{className:"visually-hidden",children:"Next"})]})]},v))}):null;tn.propTypes={slides:xe.arrayOf(xe.shape({id:xe.string.isRequired,images:xe.arrayOf(xe.shape({image:xe.string.isRequired,title:xe.string.isRequired,description:xe.string.isRequired})).isRequired})).isRequired,interval:xe.number};const Hn=({playlists:n=[],slides:i=[]})=>{const m=H.useRef([]),v=H.useRef([]);return H.useEffect(()=>(console.log(i),n.forEach((c,_)=>{m.current[_]||(m.current[_]=Xa({samplesPerPixel:1e3,waveHeight:60,container:document.getElementById(c.id),timescale:!0,isScrolling:!0,isAutomaticScroll:!0,colors:{waveOutlineColor:"#f8f9fa",timeColor:"#fbfa81",fadeColor:"#040415"},controls:{show:!0,width:150,widgets:{remove:!1,stereoPan:!1,volume:!1,collapse:!1}},zoomLevels:[500,1e3,3e3,5e3]}),m.current[_].load(c.data).then(function(){const r=m.current[_].getEventEmitter();v.current[_]=r;const d=document.getElementById(`btn-play-${c.id}`),s=document.getElementById(`btn-pause-${c.id}`),x=document.getElementById(`btn-stop-${c.id}`),u=document.getElementById(`btn-loop-${c.id}`);let g=!0;d==null||d.addEventListener("click",function(){r.emit("play"),d.classList.add("active")}),s==null||s.addEventListener("click",function(){r.emit("pause"),d.classList.remove("active")}),x==null||x.addEventListener("click",function(){r.emit("stop"),d.classList.remove("active")}),u==null||u.addEventListener("click",function(){g=!g,u.classList.toggle("active")}),r.on("finished",function(){console.log("Playback finished!"),g&&(r.emit("rewind"),setTimeout(()=>{r.emit("play")},50))})}))}),()=>{m.current.forEach(c=>{c.getEventEmitter().emit("stop")})}),[n]),O.jsx("div",{className:"container",children:O.jsxs("div",{className:"row",children:[O.jsx("div",{className:"col-sm",children:n.map(c=>O.jsxs("div",{children:[O.jsx("div",{className:"playlist-top-bar mb-4",children:O.jsxs("div",{className:"playlist-toolbar",children:[O.jsx("button",{type:"button",id:`btn-pause-${c.id}`,className:"btn-pause btn btn-outline-warning",title:"Pause",children:O.jsx("i",{className:"fas fa-circle-pause","aria-hidden":"true"})}),O.jsx("button",{type:"button",id:`btn-play-${c.id}`,className:"btn-play btn btn-outline-success",title:"Play",children:O.jsx("i",{className:"fas fa-circle-play","aria-hidden":"true"})}),O.jsx("button",{type:"button",id:`btn-stop-${c.id}`,className:"btn-stop btn btn-outline-danger",title:"Stop",children:O.jsx("i",{className:"fa-regular fa-circle-stop","aria-hidden":"true"})}),O.jsx("button",{type:"button",id:`btn-loop-${c.id}`,className:"btn-loop btn-stop btn btn btn-outline-secondary active",title:"Toggle Loop",children:O.jsx("i",{className:"fa-solid fa-repeat","aria-hidden":"true"})})]})}),O.jsx("div",{id:c.id,className:"rounded h-[60px]"})]},c.id))}),O.jsx("div",{className:"col",children:O.jsx(tn,{slides:i})})]})})};Hn.propTypes={playlists:xe.arrayOf(xe.shape({data:xe.array.isRequired,id:xe.string.isRequired})).isRequired,slides:xe.arrayOf(xe.shape({id:xe.string.isRequired,images:xe.arrayOf(xe.shape({image:xe.string.isRequired,title:xe.string.isRequired,description:xe.string.isRequired})).isRequired})).isRequired};const Xn=({section:n})=>{const i=ct();switch(console.log(i.pathname),n.type){case"header":return O.jsx("h2",{className:"text-2xl font-bold mt-5 mb-3",children:n.content});case"text":return O.jsx("p",{className:"mb-4 text-gray-700",children:n.content});case"div":return O.jsx("div",{dangerouslySetInnerHTML:{__html:n.content}});case"audio":return O.jsx(Hn,{playlists:n.playlists,slides:n.slides},i.pathname);default:return null}};Xn.propTypes={section:xe.shape({type:xe.string.isRequired,content:xe.string,playlists:xe.array,slides:xe.array}).isRequired};const Ka=({pages:n})=>{const{pageId:i}=da(),m=n.find(v=>v.slug===i);return m?O.jsx("div",{className:"main container align-self-center my-5",children:O.jsxs("div",{className:"p-4",children:[O.jsx("h1",{className:"text-3xl font-bold mb-6",children:m.title}),O.jsx("div",{className:"space-y-4",children:m.content.sections.map((v,c)=>O.jsx(Xn,{section:v},c))})]})}):O.jsx("div",{className:"p-4",children:"Page not found"})},En="/audiolibro/assets/lectura-circular-DJK10M9t.png",Qa="/audiolibro/assets/waveform-player-BKWApTzn.png",Ja=()=>{const n=[{id:"home",images:[{image:En,alt:"Lectura Circular",title:"Lectura Circular",description:"Imágenes para todos los ejemplos"},{image:En,alt:"Lectura Circular",title:"Lectura Circular",description:"Imágenes para todos los ejemplos"}]}];return O.jsxs("section",{className:"main container align-self-center my-5",children:[O.jsxs("div",{className:"content",children:[O.jsx("h1",{className:"fw-bold",children:"Audiolibro"}),O.jsx("h2",{children:"Creación de Ritmos bailables latinoamericanos en métricas irregulares (5 y 7)"}),O.jsx("p",{children:"La idea de la creación de este documento surge por un interés de explorar las posibilidades rítmicas dentro de la música popular latinoamericana, creando nuevos ritmos en métricas irregulares (compás de amalgama) a partir de ritmos bailables latinoamericanos, dejando de lado las métricas binarias y ternarias."})]}),O.jsx("div",{className:"container",children:O.jsxs("div",{className:"row align-items-start gx-5",children:[O.jsxs("div",{className:"col bg-primary bg-gradient text-light p-5 me-1",children:[O.jsx("h2",{children:"Kalö̀te de monte"}),O.jsx("h3",{children:"Ritmos compuestos en métricas de 5"}),O.jsx("p",{children:"Para la creación de los ritmos en 5 fue muy importante el desarrollo de distintas claves compuestas que le dieran sentido y cohesión a estos ritmos; para ello se crearon 7 claves compuestas y un patrón rítmico en Timbal que cumple función de clave."})]}),O.jsxs("div",{className:"col bg-secondary bg-gradient text-light p-5 ms-1",children:[O.jsx("h2",{children:"Convite de Diriá"}),O.jsx("h3",{children:"Ritmos compuestos en métricas de 7"}),O.jsx("p",{children:"Para la creación de los ritmos en 7, al igual que en los ritmos en 5, fue muy importante el desarrollo de distintas claves compuestas que le dieran sentido y cohesión a estos ritmos; para ello se crearon 4 claves compuestas, cada una con una duración de dos compases en 7/8."})]})]})}),O.jsx("div",{className:"container mt-2",children:O.jsxs("div",{className:"row align-items-start gx-5",children:[O.jsx("div",{className:"col-xs-1 col-md-6 col-lg-6 bg-light text-light p-2",children:O.jsx(tn,{slides:n,interval:5e3})}),O.jsx("div",{className:"col-xs-1 col-md-6 col-lg-6 p-2",children:O.jsxs("div",{className:"container p-3",children:[O.jsx("h3",{children:"Ejemplo de reproductor de audio con pistas de audio:"}),O.jsx("p",{children:"El reproductor contendra las pistas correspondientes a cada instrumento. El reproductor funcionará por defecto cómo un búqle (loop) y cada pista se podrá silenciar o reproducir de manera aislada por parte del usuario"}),O.jsx("img",{className:"img-fluid",src:Qa,alt:"player"}),O.jsx("ul",{className:"list-group",children:O.jsx("li",{className:"list-group-item text-small",children:O.jsxs("small",{children:[O.jsx("strong",{children:O.jsx("a",{href:"https://naomiaro.github.io/waveform-playlist/",target:"_blank",children:"Waveform Playlist - Stem Tracks"})})," ",O.jsx("em",{children:'"Multitrack scheduling allows to layer audio for simultaneous playback. Mute, solo, or set different volume levels for each audio track that makes up the composition. Control the master volume of the mix."'}),". Licensed under the MIT License."]})})})]})})]})})]})},Ya=()=>O.jsx(Ia,{basename:"/audiolibro",children:O.jsxs("div",{className:"flex min-h-screen",children:[O.jsx(Ma,{navigation:Tt}),O.jsx("main",{className:"flex-grow bg-white",children:O.jsxs(Ca,{children:[O.jsx(Qt,{path:"/",element:O.jsx(Ja,{})}),O.jsx(Qt,{path:"/:pageId",element:O.jsx(Ka,{pages:Wa})})]})}),O.jsx(Ga,{})]})});Xt.createRoot(document.getElementById("root")).render(O.jsx(_s.StrictMode,{children:O.jsx(Ya,{})}));
